(function(m){var q=m.localStorage,h=m.JSON.stringify,o=m.JSON.parse;m=m["10kse"]={};for(var i="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
g={},k=0,f=i.length;k<f;k++)g[i[k]]=true;m.asc=function(d,e){return d-e};m.get=function(d){return(d=q.getItem("10kse-"+d))?o(d):d};m.set=function(d,e){return q.setItem("10kse-"+d,h(e))};m.stop=g})(window);
(function(m,q){function h(f){var d=q(".pane."+f+", .nav ."+f);if(!d.length)throw"no such tab named '"+f+"'";k&&k.removeClass(g);k=d.addClass(g);i("TAB",f)}var o=m.get,i=m.set,g="selected",k;h(o("TAB")||"welcome");q(".nav li").click(function(){q(this).hasClass("active")||h(this.className)});q("a.nav").click(function(f){f.preventDefault();f=this.href;f=f.substr(f.lastIndexOf("#")+1);h(f)});m.showtab=h})(window["10kse"],jQuery);
(function(m,q){var h=m.get,o=m.set,i=q(".prefs.pane"),g=i.find("input").eq(0),k=i.find(".saved"),f=i.find(".csscode"),d=i.find(".jscode"),e=h("S")||"",a=h("CSS")||null;h=h("JS")||null;if(!e){e=i.find(".def").attr("href");o("S",e)}g.val(e);if(a===null){a="/* your custom css here */";o("CSS",a)}f.val(a);if(h===null){h="/* your custom js here */";o("JS",h)}d.val(h);i.find("li a").click(function(b){b.preventDefault();g.val(this.href)});i.find("form").submit(function(b){b.preventDefault();o("S",g.val());
o("CSS",f.val());o("JS",d.val());k.css({visibility:"",opacity:1});setTimeout(function(){k.animate({opacity:0},"slow",function(){k.css({visibility:"hidden"})})},1E3)});q('<style type="text/css">'+a+"</style>").appendTo("head");q(new Function(h))})(window["10kse"],jQuery);
(function(m){function q(i){for(var g=this.data,k,f,d=0,e=i.length;d<e;d++){f=i.charAt(d);(k=g[f])||(k=g[f]={});g=k}g.$=1}function h(i){for(var g=this.data,k,f=0,d=i.length;f<d;f++){k=i.charAt(f);g=g[k];if(!g)return null;g=g}return g}function o(i){var g=this.find(i);if(!g)return[];for(var k=[[i,g]],f=[],d=0,e;k.length;){g=k.shift();i=g[0];g=g[1];if(g.$)f[d++]=i;for(e in g)if(e!=="$")k[k.length]=[i+e,g[e]]}f.sort();return f}m.trie=function(i){return{add:q,data:i,find:h,match:o}}})(window["10kse"],jQuery);
(function(m){m.scanner=function(q,h,o){function i(u,z){var A;if(u.currentStyle)A=u.currentStyle[z];else if(q.getComputedStyle)A=d.getComputedStyle(u,null).getPropertyValue(z);return A}function g(u){return i(u,"display")!=="none"&&i(u,"visiblity")!=="hidden"}function k(u){return u.textContent!==o?u.textContent:u.innerText}function f(u){var z=u.parentNode,A=z.parentNode,B=k(u).replace(l," "),C=B.length;u=1;if(C>25){if(z[b]===o){z[b]=0;e[a++]=z}if(A[b]===o){A[b]=0;e[a++]=z}u+=B.split(",").length;B=C*
0.01<<0;u+=B<4?B:3;z[b]+=u;A[b]+=u*0.5}}var d=h.defaultView,e=[],a=0,b="10score",l=/\s+/g,c,j,s,n,t=h.getElementsByTagName("p");c=0;for(j=t.length;c<j;c++)f(t[c]);t=h.getElementsByTagName("div");var v,y=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;c=0;for(j=t.length;c<j;c++){v=t[c];y.test(v.innerHTML)&&f(v)}y=null;var r;for(c=0;c<a;c++){j=e[c];t=j.getElementsByTagName("a");s=r=0;for(n=t.length;s<n;s++){v=t[s];r+=k(v).length}j[b]=score=j[b]*(1-r/k(j).length);if(!y||score>y[b])y=j}y=y||h.body;
t=(h.getSelection&&h.getSelection())+"";r="h1,h2,h3,h4,h5,h6,pre,code".split(",");v=[];var w,p;c=0;for(j=r.length;c<j;c++){w=h.getElementsByTagName(r[c]);s=0;for(n=w.length;s<n;s++){p=w[s];g(p)&&v.push(p.textContent)}}s=[];y=[y];var x;n=/[a-z][a-z][a-z]/i;for(r=/button|link|noscript|script|style/i;j=y.shift();){w=j.childNodes;c=0;for(j=w.length;c<j;c++){p=w[c];x=p.nodeType;if(x===1&&!r.test(p.tagName)&&g(p))y[y.length]=p;else if(x===3){text=p.nodeValue;if(n.test(text))s[s.length]=text}}}q["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:h.location.href,
selection:t,title:h.title,priority:v.join(" "),content:s.join(" ")}),"*")}})(window["10kse"]);
(function(m){function q(d){var e,a,b,l=0,c,j={};a=d.split(g);d=0;for(e=a.length;d<e;d++){l++;b=a[d];c=b.toLowerCase();if(b.length>2&&!k[c]){(b=j[c])||(b=j[c]=[]);b[b.length]=l}}return j}function h(d,e,a,b){if((a=a||"")&&/[a-z]/i.test(a)){a=q(a);var l,c,j;for(l in a){c=o("W-"+l)||{};(j=c[d])||(j=c[d]={});j[e]=a[l];i("W-"+l,c);b[l]=1}}}var o=m.get,i=m.set,g=/[^0-9a-z_]+/i,k=m.stop,f=m.trie;m.extract=q;m.indexer=function(d){var e,a=o("URL-"+d.url);if(a){e=a.id;if(d.content!==a.text||d.title!==a.title)i("URL-"+
d.url,{id:e,text:d.content,title:d.title})}else{e=o("COUNT")||0;i("ID-"+e,d.url);i("COUNT",e+1);i("URL-"+d.url,{id:e,text:d.content,title:d.title})}a={};h(e,"s",d.selection,a);h(e,"t",d.title,a);h(e,"p",d.priority,a);h(e,"c",d.content,a);d=o("ALL")||{};e=f(d);var b;for(b in a)e.add(b);i("ALL",d)}})(window["10kse"],window);
(function(m,q,h,o){var i=o.get,g=o.set,k=q.location.href;i=i("K");if(!i){i=Math.random();g("K",i)}k=JSON.stringify(k.replace(/#.*|$/,"#"+i));g="javascript:("+(function(f,d,e){function a(j){if(e.substr(0,j.origin.length)===j.origin){b.scanner=new Function(j.data);b.scanner()}}var b=f["10kse"];b||(b=f["10kse"]={});if(b.scanner)return b.scanner();f.addEventListener?f.addEventListener("message",a,false):f.attachEvent("onmessage",a);var l=b.iframe=d.createElement("iframe");f=l.style;l.setAttribute("src",
e);f.width=f.height="1px";f.top=f.left="-2px";f.border="none";f.position="absolute";var c=false;l.onload=l.onreadystatechange=function(){if(!c&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){c=true;l.onload=l.onreadystatechange=null;l.contentWindow.postMessage("script",e)}};d.body.appendChild(l)}+"").replace(/\/\*[\s\S]*?\*\//g,"").replace(/\s+/g," ")+")(window,document,"+k+")";h("#add").attr("href",g).click(function(f){f.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
if(m.window!==m.top)q.location.hash==="#"+i?h(m).bind("message",function(f){f=f.originalEvent||f;f.data==="script"?f.source.postMessage("("+o.scanner+")(window,document)","*"):o.indexer(JSON.parse(f.data))}):alert("Either your bookmarklet is out of date, or a malicious site \nis trying to add itself to your search index. \n\nIn any case, you should update your 'add' bookmarklet. Thanks!")})(window,document,jQuery,window["10kse"]);
(function(m,q,h){if(h.window===h.top){m=m.get;h=m("COUNT")||0;var o,i;if(h>0)for(var g=q("<ul></ul>").appendTo(q(".allpages").find("div").html("<p>Page count: "+h+"</p>"));h>0;){h--;o=m("ID-"+h);i=m("URL-"+o);q("<li><a></a></li>").find("a").attr("href",o).attr("title",i.title).text(i.title).end().appendTo(g)}}})(window["10kse"],jQuery,window);
(function(m,q){var h=m.get,o=m.stop,i=Math.log;m.normalize=function(g,k,f){if(k===q)k=1;if(f===q)f=0.5;var d={},e,a,b,l;for(e in g){l=d[e]=g[e]*k;if(a===q||l>a)a=l;if(b===q||l<b)b=l}if(a===b){for(e in d)d[e]=f;return d}for(e in d)d[e]=(d[e]-b)*(1/(a-b));return d};m.topdistance=function(g,k,f,d){d||(d={});var e={},a,b,l,c;for(l in g){c=null;for(var j=0,s=k.length;j<s;j++){a=k[j];if(a.length>2&&!o[a]){b=d[a];if(b===q)b=d[a]=h("W-"+a);if(b)if(a=b[l])if(a=a[f])if(c===null||a[0]<c)c=a[0]}}if(c!==null)e[l]=
c}return e};m.bm25=function(g,k,f,d){d||(d={});var e={},a,b,l,c={},j=h("COUNT"),s=1/i(1+j),n,t,v,y=1/(2*k.length),r,w;for(l in g){r=0;for(w=k.length;r<w;r++){a=k[r];if(a.length>2&&!o[a]){b=d[a];if(b===q)b=d[a]=h("W-"+a);if(b)if(b=b[l])if(b=b[f])c[a]=(c[a]||0)+1}}}for(l in g){r=n=0;for(w=k.length;r<w;r++){if(c[a]){v=i((j-c[a]+1)/c[a])*s;a=k[r];if(a.length>2&&!o[a]){t=0;if(b=d[a])if(b=b[l])if(b=b[f])t=b.length;if(t)n+=t*v/(t+1.2)}}e[l]=0.5+n*y}}return e}})(window["10kse"]);
(function(m,q,h){var o=q("<div></div>");m.highlight=function(i,g,k){if(k===h)k=true;i=o.text(i).html();var f=i.toLowerCase(),d={},e={},a=[],b,l,c,j,s,n;b=0;for(l=g.length;b<l;b++){c=g[b].toLowerCase();j=c.length;if(j>2&&!d[c]){d[c]=true;for(n=s=0;s<3;){n=f.indexOf(c,n);if(n===-1)break;var t=i.charAt(n-1).toLowerCase(),v=i.charAt(n+j).toLowerCase();if((t<"a"||t>"z")&&(v<"a"||v>"z")){s++;a[a.length]=n;e[n]=c}n+=j}}}a.sort(m.asc);g=[];f=0;j=a.length;for(b=n=0;f<200&&b<=j;){d=a[b];c=b<j?i.substr(n,d-
n):i.substr(n);l=c.length;if(k)if(b===j){if(l>50)c=c.substr(0,46)+" ..."}else if(b===0){if(l>50)c="... "+c.substr(l-50-4)}else if(l>100)c=c.substr(0,47)+" ... "+c.substr(l-50-3);g[g.length]=c;f+=c.length;if(b<j){c=e[d];g[g.length]="<b>"+i.substr(d,c.length)+"</b>";f+=c.length;n=d+c.length}b++}if(f>=200&&b<=j)g[g.length]=" ...";return g.join("")}})(window["10kse"],jQuery);
(function(m){var q=m.get,h=m.trie,o,i;m.suggest=function(g){g=g.replace(/^\s+|\s$/g,"").toLowerCase();var k=q("COUNT")||0;if(!g||!k)return[];if(k!==void 0){o=q("ALL");i=h(o)}return i.match(g).slice(0,15)}})(window["10kse"]);
(function(m,q,h){function o(l){function c(){if(r){var p=r.text(),x=n.val(),u=x.lastIndexOf(" ")+1;n.val(y=x.substr(0,u)+p);r.removeClass(a);w=r=null}s()}function j(){if(v.find("li").length){var p=n.offset();t.css({top:p.top+l.offsetHeight,left:p.left,width:l.offsetWidth});t.show()}}function s(){t.hide()}var n=h(l),t=h('<div class="auto"><ul></ul></div>').css({display:"none"}).appendTo(document.body),v=t.find("ul"),y="",r=null,w;n.bind("change keyup",function(p){var x=n.val();p=p.which;if(p===d||p===
k)c();else if(p===i&&r&&w){n.val(n.val().replace(/\s+$/,""));c();n.val(n.val()+" ")}else if(p===e)s();else if(p===g||p===f){w=true;if(r)if(p===g){x=r.prev();if(x.length){r.removeClass(a);r=x.addClass(a)}}else{x=r.next();if(x.length){r.removeClass(a);r=x.addClass(a)}}else r=v.find("li").eq(0).addClass(a);j()}else if(x!==y){y=x;p=x.lastIndexOf(" ");x=x.substr(p<0?0:p).toLowerCase();if(x.length)if((p=b(x))&&p.length){v.empty();r=null;for(var u=0,z=p.length;u<z;u++)h("<li><span></span></li>").appendTo(v).find("span").html(p[u].split(x,
2).join("<b>"+x+"</b>"));j()}else s();else s()}}).parent("form").submit(c);v.mouseover(function(p){p=h(p.target);p=p.is("li")?p:p.parent("li");if(p=p.length?p:null){w=null;r&&r.get(0)!==p.get(0)&&r.removeClass(a);r=p.addClass(a)}}).click(c);h("body").click(s)}var i=32,g=38,k=39,f=40,d=13,e=27,a="selected",b=q.suggest;h(".search input").eq(0).each(function(){o(this)});q.autocomplete=o})(window,window["10kse"],jQuery);
(function(m,q,h,o){function i(){var e=(f.val()||"").replace(/^\s+|\s+$/g,""),a=e.toLowerCase().split(/[^a-z0-9_]/),b,l,c={},j,s={},n=false;if(!(!e||e===d)){d=e;b=0;for(l=a.length;b<l;b++){e=a[b];if(!s[e])if(e=s[e]=g("W-"+e)){for(j in e)c[j]=(c[j]||0)+1;n=true}}if(n){n=h.normalize;e=h.topdistance;var t=h.bm25;c=[[1,n(e(c,a,"s",s),-1)],[1,n(e(c,a,"t",s),-1)],[1,n(e(c,a,"p",s),-1)],[1,n(e(c,a,"c",s),-1)],[2.5,n(t(c,a,"s",s))],[2,n(t(c,a,"t",s))],[1.5,n(t(c,a,"p",s))],[1,n(t(c,a,"c",s))]];var v={};b=
0;for(l=c.length;b<l;b++){n=c[b];s=n[0];n=n[1];for(j in n){v[j]||(v[j]=0);v[j]+=s*n[j]}}var y=[];c=0;var r={},w,p;for(j in v){w=v[j];p=r[w]||(r[w]=[]);p[p.length]=j;y[c++]=w}y.sort(h.asc);y.reverse();var x=h.highlight,u=null;k.slideUp("slow",function(){k.empty();b=0;for(l=y.length;b<l;b++){w=y[b];if(w!==u){u=w;p=r[w];for(var z=0,A=p.length;z<A;z++){j=p[z];var B=g("ID-"+j),C=g("URL-"+B),D=C.text;k.append(o("<dt><a></a></dt>").find("a").attr("href",B).attr("title",C.title).html(x(C.title,a,false)).end(),
o("<dd><p></p></dd>").find("p").html(x(D,a)).end().append("<p><strong>Score: "+(v[j]+"").substr(0,4)+"</strong></p>"))}}}k.slideDown("slow")})}else k.slideUp("slow",function(){k.html("<dt>Sorry, no pages were found to match your query. :/</dt><dd><p>You should probably try searching for something else.</p></dd>");k.slideDown("slow")})}}var g=h.get,k=o(".results dl"),f=o(".search input").eq(0),d;o("form").submit(function(e){e.preventDefault();setTimeout(i,150)});o(".search").find("input[name=web]").click(function(){m.location.assign((g("S")||
"").replace("%s",encodeURIComponent(f.val()||"")))});o(function(){f.focus()})})(window,document,window["10kse"],jQuery);
