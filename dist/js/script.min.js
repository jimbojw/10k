(function(g){var h=g.localStorage,f=g.JSON.stringify,o=g.JSON.parse;g=g["10kse"]={};g.get=function(j){return(j=h.getItem(j))?o(j):j};g.set=function(j,i){return h.setItem(j,f(i))}})(window);
(function(g){g.scanner=function(h,f){function o(p,s){var q;if(p.currentStyle)q=p.currentStyle[s];else if(h.getComputedStyle)q=j.getComputedStyle(p,null).getPropertyValue(s);return q}var j=f.defaultView,i,k,a,c,b=f.getSelection()||"",d="h1,h2,h3,h4,h5,h6,pre,code".split(","),e=[],l,m;i=0;for(a=d.length;i<a;i++){l=f.getElementsByTagName(d[i]);k=0;for(c=l.length;k<c;k++){m=l[k];o(m,"display")!=="none"&&o(m,"visiblity")!=="hidden"&&e.push(m.textContent)}}k=[];c=[f.body];var n,r;d=/[a-z][a-z][a-z]/i;for(l=
/button|link|noscript|script|style/i;i=c.shift();){m=i.childNodes;i=0;for(a=m.length;i<a;i++){n=m[i];r=n.nodeType;if(r===1&&!l.test(n.tagName)&&o(n,"display")!=="none"&&o(n,"visibility")!=="hidden")c[c.length]=n;else if(r===3){text=n.nodeValue;if(d.test(text))k[k.length]=text}}}h["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:f.location.href,selection:b,title:f.title,priority:e.join(" "),content:k.join(" ")}),"*")}})(window["10kse"]);
(function(g){function h(a){var c,b,d,e=0,l={},m;b=a.split(i);a=0;for(c=b.length;a<c;a++){e++;d=b[a];if(d.length>2&&!k.test(d)){d=d.toLowerCase();(m=l[d])||(m=l[d]=[]);m[m.length]=e}}return l}function f(a,c,b){if(b&&/[a-z]/i.test(b)){b=h(b);var d,e,l;for(d in b){e=o("W-"+d)||{};(l=e[a])||(l=e[a]={});l[c]=b[d];j("W-"+d,e)}}}var o=g.get,j=g.set,i=/[^0-9a-z_]+/i,k=/able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your/i;
g.extract=h;g.indexer=function(a){var c,b=o("URL-"+a.url);if(b){c=b.id;if(a.content!==b.text||a.title!==b.title)j("URL-"+a.url,{id:c,text:a.content,title:a.title})}else{c=o("COUNT")||0;j("ID-"+c,a.url);j("COUNT",c+1);j("URL-"+a.url,{id:c,text:a.content,title:a.title})}f(c,"s",a.selection);f(c,"t",a.title);f(c,"p",a.priority);f(c,"c",a.content)}})(window["10kse"],window);
(function(g,h,f,o){function j(a,c){var b=new Date;b.setTime(b.getTime()+31536E7);h.cookie=a+"="+c+"; expires="+b.toGMTString()+"; path=/"}var i=h.location.href,k=function(a){a=a+"=";for(var c=h.cookie.split(";"),b,d=0,e=c.length;d<e;d++){for(b=c[d];b.charAt(0)===" ";)b=b.substr(1);if(b.indexOf(a)===0)return b.substr(a.length)}return null}("key");if(!k){k=Math.random();j("key",k)}i=JSON.stringify(i.replace(/#.*|$/,"#"+k));f("#add").attr("href",("javascript:("+function(a,c,b){var d=a["10kse"];d||(d=
a["10kse"]={});if(d.scanner)return d.scanner();a.addEventListener("message",function(m){if(b.substr(0,m.origin.length)===m.origin){d.scanner=new Function(m.data);d.scanner()}},false);var e=d.iframe=c.createElement("iframe");a=e.style;e.setAttribute("src",b);a.width=a.height="1px";a.top=a.left="-2px";a.border="none";a.position="absolute";var l=false;e.onload=e.onreadystatechange=function(){if(!l&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){l=true;e.onload=e.onreadystatechange=
null;e.contentWindow.postMessage("script",b)}};c.body.appendChild(e)}+")(window,document,"+i+")").replace(/\s+/g," ")).click(function(a){a.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});g!==g.top&&h.location.hash==="#"+k&&g.addEventListener("message",function(a){a.data==="script"?a.source.postMessage("("+o.scanner+")(window,document)","*"):o.indexer(JSON.parse(a.data))},false)})(window,
document,jQuery,window["10kse"]);(function(g,h,f){if(f===f.top){g=g.get;f=g("COUNT")||0;var o,j;if(f>0)for(var i=h("<ul></ul>").appendTo(h(".entries").find("div").empty());f>0;){f--;o=g("ID-"+f);j=g("URL-"+o);h("<li><a></a></li>").find("a").attr("href",o).attr("title",j.title).text(j.title).end().appendTo(i)}}})(window["10kse"],jQuery,window);
(function(g,h){var f=g.get,o=h(".results dl"),j=h(".search input");h(function(){j.focus()});h("form").submit(function(i){i.preventDefault();var k=(j.val()||"").toLowerCase().split(/[^a-z0-9_]/),a,c,b,d;i={};var e={};a=0;for(c=k.length;a<c;a++){b=k[a].toLowerCase();if(b=e[b]||(e[b]=f("W-"+b)))for(d in b)i[d]+=1}o.empty();k=new RegExp("(.*?\\b)("+k.join("|")+")(\\b.*)");for(d in i){c=f("ID-"+d);e=f("URL-"+c);a=e.text;b=[];for(var l=0,m=0,n=a.match(k);n;){b[l++]=n[1];b[l++]=n[2];m+=n[1].length+n[2].length;
a=n[3];n=a.match(k);if(l>10||m>300)break}b[l++]=a;m=h("<dd></dd>");for(a=0;a<l;a++)if(a%2)m.append(h("<strong></strong>").text(b[a]));else{n=b[a];if(n.length>100)n=(a?n.substr(0,47):"")+" ... "+(a<l-1?n.substr(n.length-47):"");m.append(document.createTextNode(n))}o.append(h("<dt><a></a></dt>").find("a").attr("href",c).attr("title",e.title).text(e.title).end(),m)}})})(window["10kse"],jQuery);
