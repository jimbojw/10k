(function(n){var p=n.localStorage,j=n.JSON.stringify,l=n.JSON.parse;n=n["10kse"]={};for(var h="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
i={},m=0,a=h.length;m<a;m++)i[h[m]]=true;n.get=function(b){return(b=p.getItem(b))?l(b):b};n.set=function(b,f){return p.setItem(b,j(f))};n.stop=i})(window);
(function(n){n.scanner=function(p,j,l){function h(s,x){var y;if(s.currentStyle)y=s.currentStyle[x];else if(p.getComputedStyle)y=a.getComputedStyle(s,null).getPropertyValue(x);return y}function i(s){return h(s,"display")!=="none"&&h(s,"visiblity")!=="hidden"}function m(s){var x=s.parentNode,y=x.parentNode,z=(s.innerText||s.textContent).replace(g," "),B=z.length;s=1;if(B>25){if(x[e]===l){x[e]=0;b[f++]=x}if(y[e]===l){y[e]=0;b[f++]=x}s+=z.split(",").length;z=B*0.01<<0;s+=z<4?z:3;x[e]+=s;y[e]+=s*0.5}}
var a=j.defaultView,b=[],f=0,e="10score",g=/\s+/g,d,c,k,q,o=j.getElementsByTagName("p");d=0;for(c=o.length;d<c;d++)m(o[d]);o=j.getElementsByTagName("div");var t,r=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;d=0;for(c=o.length;d<c;d++){t=o[d];r.test(t.innerHTML)&&m(t)}r=null;var u;for(d=0;d<f;d++){c=b[d];o=c.getElementsByTagName("a");k=u=0;for(q=o.length;k<q;k++){t=o[k];u+=(t.innerText||t.textContent).length}c[e]=score=c[e]*(1-u/(c.innerText||c.textContent).length);if(!r||score>r[e])r=c}r=r||
j.body;o=j.getSelection()||"";u="h1,h2,h3,h4,h5,h6,pre,code".split(",");t=[];var w,v;d=0;for(c=u.length;d<c;d++){w=j.getElementsByTagName(u[d]);k=0;for(q=w.length;k<q;k++){v=w[k];i(v)&&t.push(v.textContent)}}k=[];r=[r];var A;q=/[a-z][a-z][a-z]/i;for(u=/button|link|noscript|script|style/i;c=r.shift();){w=c.childNodes;d=0;for(c=w.length;d<c;d++){v=w[d];A=v.nodeType;if(A===1&&!u.test(v.tagName)&&i(v))r[r.length]=v;else if(A===3){text=v.nodeValue;if(q.test(text))k[k.length]=text}}}p["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:j.location.href,
selection:o,title:j.title,priority:t.join(" "),content:k.join(" ")}),"*")}})(window["10kse"]);
(function(n){function p(a){var b,f,e,g=0,d,c={};f=a.split(i);a=0;for(b=f.length;a<b;a++){g++;e=f[a];d=e.toLowerCase();if(e.length>2&&!m[d]){(e=c[d])||(e=c[d]=[]);e[e.length]=g}}return c}function j(a,b,f){if(f&&/[a-z]/i.test(f)){f=p(f);var e,g,d;for(e in f){g=l("W-"+e)||{};(d=g[a])||(d=g[a]={});d[b]=f[e];h("W-"+e,g)}}}var l=n.get,h=n.set,i=/[^0-9a-z_]+/i,m=n.stop;n.extract=p;n.indexer=function(a){var b,f=l("URL-"+a.url);if(f){b=f.id;if(a.content!==f.text||a.title!==f.title)h("URL-"+a.url,{id:b,text:a.content,
title:a.title})}else{b=l("COUNT")||0;h("ID-"+b,a.url);h("COUNT",b+1);h("URL-"+a.url,{id:b,text:a.content,title:a.title})}j(b,"s",a.selection);j(b,"t",a.title);j(b,"p",a.priority);j(b,"c",a.content)}})(window["10kse"],window);
(function(n,p,j,l){var h=l.get,i=l.set,m=p.location.href;h=h("key");if(!h){h=Math.random();i("key",h)}m=JSON.stringify(m.replace(/#.*|$/,"#"+h));j("#add").attr("href",("javascript:("+function(a,b,f){var e=a["10kse"];e||(e=a["10kse"]={});if(e.scanner)return e.scanner();a.addEventListener("message",function(c){if(f.substr(0,c.origin.length)===c.origin){e.scanner=new Function(c.data);e.scanner()}},false);var g=e.iframe=b.createElement("iframe");a=g.style;g.setAttribute("src",f);a.width=a.height="1px";
a.top=a.left="-2px";a.border="none";a.position="absolute";var d=false;g.onload=g.onreadystatechange=function(){if(!d&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){d=true;g.onload=g.onreadystatechange=null;g.contentWindow.postMessage("script",f)}};b.body.appendChild(g)}+")(window,document,"+m+")").replace(/\s+/g," ")).click(function(a){a.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
n!==n.top&&p.location.hash==="#"+h&&n.addEventListener("message",function(a){a.data==="script"?a.source.postMessage("("+l.scanner+")(window,document)","*"):l.indexer(JSON.parse(a.data))},false)})(window,document,jQuery,window["10kse"]);
(function(n,p,j){if(j===j.top){n=n.get;j=n("COUNT")||0;var l,h;if(j>0)for(var i=p("<ul></ul>").appendTo(p(".entries").find("div").empty());j>0;){j--;l=n("ID-"+j);h=n("URL-"+l);p("<li><a></a></li>").find("a").attr("href",l).attr("title",h.title).text(h.title).end().appendTo(i)}}})(window["10kse"],jQuery,window);
(function(n,p){n.wordcount=function(j,l,h,i){i||(i={});for(var m={},a,b,f,e=0,g=l.length;e<g;e++){a=l[e];if(a.length>2&&!stop[a]){a=i[a]||(i[a]=get("W-"+a));for(b in j)if(f=a[b])if(f=f[h]){if(m[b]===p)m[b]=0;m[b]+=+f.length}}}return m};n.normalize=function(j,l,h){if(l===p)l=1;if(h===p)h=0.5;var i={},m,a,b,f;for(m in j){f=i[m]=j[m]*l;if(a===p||f>a)a=f;if(b===p||f<b)b=f}if(a===b){for(m in i)i[m]=h;return i}for(m in i)i[m]=(i[m]-b)*(1/(a-b));return i}})(window["10kse"]);
(function(n,p,j){var l=p("<div></div>");n.highlight=function(h,i,m){if(m===j)m=true;h=l.text(h).html();var a=h.toLowerCase(),b={},f={},e=[],g,d,c,k,q,o;g=0;for(d=i.length;g<d;g++){c=i[g].toLowerCase();k=c.length;if(k>2&&!b[c]){b[c]=true;for(o=q=0;q<3;){o=a.indexOf(c,o);if(o===-1)break;var t=h.charAt(o-1).toLowerCase(),r=h.charAt(o+k).toLowerCase();if((t<"a"||t>"z")&&(r<"a"||r>"z")){q++;e[e.length]=o;f[o]=c}o+=k}}}e.sort();i=[];a=0;k=e.length;for(g=o=0;a<200&&g<=k;){b=e[g];c=g<k?h.substr(o,b-o):h.substr(o);
d=c.length;if(m)if(g===0){if(d>50)c="... "+c.substr(d-50-4)}else if(g===k){if(d>50)c=c.substr(0,46)+" ..."}else if(d>100)c=c.substr(0,47)+" ... "+c.substr(d-50-3);i[i.length]=c;a+=c.length;if(g<k){c=f[b];i[i.length]="<b>"+h.substr(b,c.length)+"</b>";a+=c.length;o=b+c.length}g++}if(a>=200&&g<=k)i[i.length]=" ...";return i.join(" ")}})(window["10kse"],jQuery);
(function(n,p,j,l){var h=j.get,i=l(".results dl"),m=l(".search input");l("form").submit(function(a){a.preventDefault();a=(m.val()||"").toLowerCase().split(/[^a-z0-9_]/);var b,f,e,g={},d,c={};b=0;for(f=a.length;b<f;b++){e=a[b];if(!c[e])if(e=c[e]=h("W-"+e))for(d in e)g[d]=(g[d]||0)+1}b=j.wordcount;f=j.normalize;c=[[1,f(g)],[1,f(b(g,a,"s",c))],[1,f(b(g,a,"t",c))],[1,f(b(g,a,"p",c))],[1,f(b(g,a,"c",c))]];g={};b=0;for(f=c.length;b<f;b++){var k=c[b];e=k[0];k=k[1];for(d in k){g[d]||(g[d]=0);g[d]+=e*k[d]}}c=
[];b=0;e={};var q;for(d in g){q=g[d];k=e[q]||(e[q]=[]);k[k.length]=d;c[b++]=q}c.sort();c.reverse();var o=j.highlight,t=null;i.empty();b=0;for(f=c.length;b<f;b++){q=c[b];if(q!==t){t=q;k=e[q];q=0;for(var r=k.length;q<r;q++){d=k[q];var u=h("ID-"+d),w=h("URL-"+u),v=w.text;i.append(l("<dt><a></a></dt>").find("a").attr("href",u).attr("title",w.title).html(o(w.title,a,false)).end(),l("<dd><p></p></dd>").find("p").html(o(v,a)).end().append("<p><strong>Score: "+(g[d]+"").substr(0,4)+"</strong></p>"))}}}});
l(function(){m.focus()});j.highlight=highlight})(window,document,window["10kse"],jQuery);
