(function(n){var r=n.localStorage,j=n.JSON.stringify,p=n.JSON.parse;n=n["10kse"]={};for(var i="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
q={},o=0,b=i.length;o<b;o++)q[i[o]]=true;n.asc=function(a,c){return a-c};n.get=function(a){return(a=r.getItem(a))?p(a):a};n.set=function(a,c){return r.setItem(a,j(c))};n.stop=q})(window);
(function(n){n.scanner=function(r,j,p){function i(t,x){var y;if(t.currentStyle)y=t.currentStyle[x];else if(r.getComputedStyle)y=b.getComputedStyle(t,null).getPropertyValue(x);return y}function q(t){return i(t,"display")!=="none"&&i(t,"visiblity")!=="hidden"}function o(t){var x=t.parentNode,y=x.parentNode,z=(t.innerText||t.textContent).replace(g," "),B=z.length;t=1;if(B>25){if(x[e]===p){x[e]=0;a[c++]=x}if(y[e]===p){y[e]=0;a[c++]=x}t+=z.split(",").length;z=B*0.01<<0;t+=z<4?z:3;x[e]+=t;y[e]+=t*0.5}}
var b=j.defaultView,a=[],c=0,e="10score",g=/\s+/g,f,d,k,l,h=j.getElementsByTagName("p");f=0;for(d=h.length;f<d;f++)o(h[f]);h=j.getElementsByTagName("div");var m,s=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;f=0;for(d=h.length;f<d;f++){m=h[f];s.test(m.innerHTML)&&o(m)}s=null;var u;for(f=0;f<c;f++){d=a[f];h=d.getElementsByTagName("a");k=u=0;for(l=h.length;k<l;k++){m=h[k];u+=(m.innerText||m.textContent).length}d[e]=score=d[e]*(1-u/(d.innerText||d.textContent).length);if(!s||score>s[e])s=d}s=s||
j.body;h=j.getSelection()||"";u="h1,h2,h3,h4,h5,h6,pre,code".split(",");m=[];var w,v;f=0;for(d=u.length;f<d;f++){w=j.getElementsByTagName(u[f]);k=0;for(l=w.length;k<l;k++){v=w[k];q(v)&&m.push(v.textContent)}}k=[];s=[s];var A;l=/[a-z][a-z][a-z]/i;for(u=/button|link|noscript|script|style/i;d=s.shift();){w=d.childNodes;f=0;for(d=w.length;f<d;f++){v=w[f];A=v.nodeType;if(A===1&&!u.test(v.tagName)&&q(v))s[s.length]=v;else if(A===3){text=v.nodeValue;if(l.test(text))k[k.length]=text}}}r["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:j.location.href,
selection:h,title:j.title,priority:m.join(" "),content:k.join(" ")}),"*")}})(window["10kse"]);
(function(n){function r(b){var a,c,e,g=0,f,d={};c=b.split(q);b=0;for(a=c.length;b<a;b++){g++;e=c[b];f=e.toLowerCase();if(e.length>2&&!o[f]){(e=d[f])||(e=d[f]=[]);e[e.length]=g}}return d}function j(b,a,c){if(c&&/[a-z]/i.test(c)){c=r(c);var e,g,f;for(e in c){g=p("W-"+e)||{};(f=g[b])||(f=g[b]={});f[a]=c[e];i("W-"+e,g)}}}var p=n.get,i=n.set,q=/[^0-9a-z_]+/i,o=n.stop;n.extract=r;n.indexer=function(b){var a,c=p("URL-"+b.url);if(c){a=c.id;if(b.content!==c.text||b.title!==c.title)i("URL-"+b.url,{id:a,text:b.content,
title:b.title})}else{a=p("COUNT")||0;i("ID-"+a,b.url);i("COUNT",a+1);i("URL-"+b.url,{id:a,text:b.content,title:b.title})}j(a,"s",b.selection);j(a,"t",b.title);j(a,"p",b.priority);j(a,"c",b.content)}})(window["10kse"],window);
(function(n,r,j,p){var i=p.get,q=p.set,o=r.location.href;i=i("key");if(!i){i=Math.random();q("key",i)}o=JSON.stringify(o.replace(/#.*|$/,"#"+i));j("#add").attr("href",("javascript:("+function(b,a,c){var e=b["10kse"];e||(e=b["10kse"]={});if(e.scanner)return e.scanner();b.addEventListener("message",function(d){if(c.substr(0,d.origin.length)===d.origin){e.scanner=new Function(d.data);e.scanner()}},false);var g=e.iframe=a.createElement("iframe");b=g.style;g.setAttribute("src",c);b.width=b.height="1px";
b.top=b.left="-2px";b.border="none";b.position="absolute";var f=false;g.onload=g.onreadystatechange=function(){if(!f&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){f=true;g.onload=g.onreadystatechange=null;g.contentWindow.postMessage("script",c)}};a.body.appendChild(g)}+")(window,document,"+o+")").replace(/\s+/g," ")).click(function(b){b.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
n!==n.top&&r.location.hash==="#"+i&&n.addEventListener("message",function(b){b.data==="script"?b.source.postMessage("("+p.scanner+")(window,document)","*"):p.indexer(JSON.parse(b.data))},false)})(window,document,jQuery,window["10kse"]);
(function(n,r,j){if(j===j.top){n=n.get;j=n("COUNT")||0;var p,i;if(j>0)for(var q=r("<ul></ul>").appendTo(r(".entries").find("div").empty());j>0;){j--;p=n("ID-"+j);i=n("URL-"+p);r("<li><a></a></li>").find("a").attr("href",p).attr("title",i.title).text(i.title).end().appendTo(q)}}})(window["10kse"],jQuery,window);
(function(n,r){var j=n.get;n.wordcount=function(p,i,q,o){o||(o={});for(var b={},a,c,e,g=0,f=i.length;g<f;g++){a=i[g];if(a.length>2&&!stop[a]){c=o[a];if(c===r)c=o[a]=j("W-"+a);if(c)for(e in p)if(a=c[e])if(a=a[q]){if(b[e]===r)b[e]=0;b[e]+=+a.length}}}return b};n.normalize=function(p,i,q){if(i===r)i=1;if(q===r)q=0.5;var o={},b,a,c,e;for(b in p){e=o[b]=p[b]*i;if(a===r||e>a)a=e;if(c===r||e<c)c=e}if(a===c){for(b in o)o[b]=q;return o}for(b in o)o[b]=(o[b]-c)*(1/(a-c));return o}})(window["10kse"]);
(function(n,r,j){var p=r("<div></div>");n.highlight=function(i,q,o){if(o===j)o=true;i=p.text(i).html();var b=i.toLowerCase(),a={},c={},e=[],g,f,d,k,l,h;g=0;for(f=q.length;g<f;g++){d=q[g].toLowerCase();k=d.length;if(k>2&&!a[d]){a[d]=true;for(h=l=0;l<3;){h=b.indexOf(d,h);if(h===-1)break;var m=i.charAt(h-1).toLowerCase(),s=i.charAt(h+k).toLowerCase();if((m<"a"||m>"z")&&(s<"a"||s>"z")){l++;e[e.length]=h;c[h]=d}h+=k}}}e.sort(n.asc);q=[];b=0;k=e.length;for(g=h=0;b<200&&g<=k;){a=e[g];d=g<k?i.substr(h,a-
h):i.substr(h);f=d.length;if(o)if(g===k){if(f>50)d=d.substr(0,46)+" ..."}else if(g===0){if(f>50)d="... "+d.substr(f-50-4)}else if(f>100)d=d.substr(0,47)+" ... "+d.substr(f-50-3);q[q.length]=d;b+=d.length;if(g<k){d=c[a];q[q.length]="<b>"+i.substr(a,d.length)+"</b>";b+=d.length;h=a+d.length}g++}if(b>=200&&g<=k)q[q.length]=" ...";return q.join("")}})(window["10kse"],jQuery);
(function(n,r,j){function p(c){c=c.replace(/^\s+|\s$/g,"");if(!c)return[];return[c,c+"a",c+"b",c+"c",c+"d"]}function i(c){function e(){if(l){var h=l.text(),m=g.val(),s=m.lastIndexOf(" ")+1;g.get(0).value=k=m.substr(0,s)+h;f.hide()}}var g=j(c),f=j('<div class="auto"><ul></ul></div>').css({display:"none"}).appendTo(document.body),d=f.find("ul"),k="",l=null;g.bind("change keyup",function(h){var m=g.val();h=h.which;if(m!==k){k=m;h=m.lastIndexOf(" ");m=m.substr(h<0?0:h).toLowerCase();if(m.length)if((h=
p(m))&&h.length){d.empty();l=null;for(var s=0,u=h.length;s<u;s++)j("<li><span></span></li>").appendTo(d).find("span").html(h[s].split(m,2).join("<b>"+m+"</b>"));m=g.offset();f.css({top:m.top+c.offsetHeight,left:m.left,width:c.offsetWidth});f.show()}else f.hide();else f.hide()}else if(h===q||h===o)if(l)if(h===q){m=l.prev();if(m.length){l.removeClass(a);l=m.addClass(a)}}else{m=l.next();if(m.length){l.removeClass(a);l=m.addClass(a)}}else l=d.find("li").eq(0).addClass(a);else h===b&&e()}).parent("form").submit(e);
d.mouseover(function(h){h=j(h.target);h=h.is("li")?h:h.parent("li");if(h=h.length?h:null){l&&l.get(0)!==h.get(0)&&l.removeClass(a);l=h.addClass(a)}}).click(e)}var q=38,o=40,b=13,a="selected";j(".search input").each(function(){i(this)});r.autocomplete=i;r.suggest=p})(window,window["10kse"],jQuery);
(function(n,r,j,p){var i=j.get,q=p(".results dl"),o=p(".search input");p("form").submit(function(b){b.preventDefault();b=(o.val()||"").toLowerCase().split(/[^a-z0-9_]/);var a,c,e,g={},f,d={};a=0;for(c=b.length;a<c;a++){e=b[a];if(!d[e])if(e=d[e]=i("W-"+e))for(f in e)g[f]=(g[f]||0)+1}a=j.wordcount;c=j.normalize;d=[[1,c(g)],[1,c(a(g,b,"s",d))],[1,c(a(g,b,"t",d))],[1,c(a(g,b,"p",d))],[1,c(a(g,b,"c",d))]];g={};a=0;for(c=d.length;a<c;a++){var k=d[a];e=k[0];k=k[1];for(f in k){g[f]||(g[f]=0);g[f]+=e*k[f]}}d=
[];a=0;e={};var l;for(f in g){l=g[f];k=e[l]||(e[l]=[]);k[k.length]=f;d[a++]=l}d.sort(j.asc);d.reverse();var h=j.highlight,m=null;q.empty();a=0;for(c=d.length;a<c;a++){l=d[a];if(l!==m){m=l;k=e[l];l=0;for(var s=k.length;l<s;l++){f=k[l];var u=i("ID-"+f),w=i("URL-"+u),v=w.text;q.append(p("<dt><a></a></dt>").find("a").attr("href",u).attr("title",w.title).html(h(w.title,b,false)).end(),p("<dd><p></p></dd>").find("p").html(h(v,b)).end().append("<p><strong>Score: "+(g[f]+"").substr(0,4)+"</strong></p>"))}}}});
p(function(){o.focus()})})(window,document,window["10kse"],jQuery);
