(function(p){var r=p.localStorage,k=p.JSON.stringify,o=p.JSON.parse;p=p["10kse"]={};for(var h="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
m={},i=0,a=h.length;i<a;i++)m[h[i]]=true;p.asc=function(b,e){return b-e};p.get=function(b){return(b=r.getItem(b))?o(b):b};p.set=function(b,e){return r.setItem(b,k(e))};p.stop=m})(window);
(function(p){p.scanner=function(r,k,o){function h(u,x){var y;if(u.currentStyle)y=u.currentStyle[x];else if(r.getComputedStyle)y=a.getComputedStyle(u,null).getPropertyValue(x);return y}function m(u){return h(u,"display")!=="none"&&h(u,"visiblity")!=="hidden"}function i(u){var x=u.parentNode,y=x.parentNode,z=(u.innerText||u.textContent).replace(g," "),B=z.length;u=1;if(B>25){if(x[c]===o){x[c]=0;b[e++]=x}if(y[c]===o){y[c]=0;b[e++]=x}u+=z.split(",").length;z=B*0.01<<0;u+=z<4?z:3;x[c]+=u;y[c]+=u*0.5}}
var a=k.defaultView,b=[],e=0,c="10score",g=/\s+/g,f,d,n,s,l=k.getElementsByTagName("p");f=0;for(d=l.length;f<d;f++)i(l[f]);l=k.getElementsByTagName("div");var j,q=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;f=0;for(d=l.length;f<d;f++){j=l[f];q.test(j.innerHTML)&&i(j)}q=null;var t;for(f=0;f<e;f++){d=b[f];l=d.getElementsByTagName("a");n=t=0;for(s=l.length;n<s;n++){j=l[n];t+=(j.innerText||j.textContent).length}d[c]=score=d[c]*(1-t/(d.innerText||d.textContent).length);if(!q||score>q[c])q=d}q=q||
k.body;l=k.getSelection()||"";t="h1,h2,h3,h4,h5,h6,pre,code".split(",");j=[];var v,w;f=0;for(d=t.length;f<d;f++){v=k.getElementsByTagName(t[f]);n=0;for(s=v.length;n<s;n++){w=v[n];m(w)&&j.push(w.textContent)}}n=[];q=[q];var A;s=/[a-z][a-z][a-z]/i;for(t=/button|link|noscript|script|style/i;d=q.shift();){v=d.childNodes;f=0;for(d=v.length;f<d;f++){w=v[f];A=w.nodeType;if(A===1&&!t.test(w.tagName)&&m(w))q[q.length]=w;else if(A===3){text=w.nodeValue;if(s.test(text))n[n.length]=text}}}r["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:k.location.href,
selection:l,title:k.title,priority:j.join(" "),content:n.join(" ")}),"*")}})(window["10kse"]);
(function(p){function r(a){var b,e,c,g=0,f,d={};e=a.split(m);a=0;for(b=e.length;a<b;a++){g++;c=e[a];f=c.toLowerCase();if(c.length>2&&!i[f]){(c=d[f])||(c=d[f]=[]);c[c.length]=g}}return d}function k(a,b,e){if(e&&/[a-z]/i.test(e)){e=r(e);var c,g,f;for(c in e){g=o("W-"+c)||{};(f=g[a])||(f=g[a]={});f[b]=e[c];h("W-"+c,g)}}}var o=p.get,h=p.set,m=/[^0-9a-z_]+/i,i=p.stop;p.extract=r;p.indexer=function(a){var b,e=o("URL-"+a.url);if(e){b=e.id;if(a.content!==e.text||a.title!==e.title)h("URL-"+a.url,{id:b,text:a.content,
title:a.title})}else{b=o("COUNT")||0;h("ID-"+b,a.url);h("COUNT",b+1);h("URL-"+a.url,{id:b,text:a.content,title:a.title})}k(b,"s",a.selection);k(b,"t",a.title);k(b,"p",a.priority);k(b,"c",a.content)}})(window["10kse"],window);
(function(p,r,k,o){var h=o.get,m=o.set,i=r.location.href;h=h("key");if(!h){h=Math.random();m("key",h)}i=JSON.stringify(i.replace(/#.*|$/,"#"+h));k("#add").attr("href",("javascript:("+function(a,b,e){var c=a["10kse"];c||(c=a["10kse"]={});if(c.scanner)return c.scanner();a.addEventListener("message",function(d){if(e.substr(0,d.origin.length)===d.origin){c.scanner=new Function(d.data);c.scanner()}},false);var g=c.iframe=b.createElement("iframe");a=g.style;g.setAttribute("src",e);a.width=a.height="1px";
a.top=a.left="-2px";a.border="none";a.position="absolute";var f=false;g.onload=g.onreadystatechange=function(){if(!f&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){f=true;g.onload=g.onreadystatechange=null;g.contentWindow.postMessage("script",e)}};b.body.appendChild(g)}+")(window,document,"+i+")").replace(/\s+/g," ")).click(function(a){a.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
p!==p.top&&r.location.hash==="#"+h&&p.addEventListener("message",function(a){a.data==="script"?a.source.postMessage("("+o.scanner+")(window,document)","*"):o.indexer(JSON.parse(a.data))},false)})(window,document,jQuery,window["10kse"]);
(function(p,r,k){if(k===k.top){p=p.get;k=p("COUNT")||0;var o,h;if(k>0)for(var m=r("<ul></ul>").appendTo(r(".entries").find("div").empty());k>0;){k--;o=p("ID-"+k);h=p("URL-"+o);r("<li><a></a></li>").find("a").attr("href",o).attr("title",h.title).text(h.title).end().appendTo(m)}}})(window["10kse"],jQuery,window);
(function(p,r){var k=p.get;p.wordcount=function(o,h,m,i){i||(i={});for(var a={},b,e,c,g=0,f=h.length;g<f;g++){b=h[g];if(b.length>2&&!stop[b]){e=i[b];if(e===r)e=i[b]=k("W-"+b);if(e)for(c in o)if(b=e[c])if(b=b[m]){if(a[c]===r)a[c]=0;a[c]+=+b.length}}}return a};p.normalize=function(o,h,m){if(h===r)h=1;if(m===r)m=0.5;var i={},a,b,e,c;for(a in o){c=i[a]=o[a]*h;if(b===r||c>b)b=c;if(e===r||c<e)e=c}if(b===e){for(a in i)i[a]=m;return i}for(a in i)i[a]=(i[a]-e)*(1/(b-e));return i}})(window["10kse"]);
(function(p,r,k){var o=r("<div></div>");p.highlight=function(h,m,i){if(i===k)i=true;h=o.text(h).html();var a=h.toLowerCase(),b={},e={},c=[],g,f,d,n,s,l;g=0;for(f=m.length;g<f;g++){d=m[g].toLowerCase();n=d.length;if(n>2&&!b[d]){b[d]=true;for(l=s=0;s<3;){l=a.indexOf(d,l);if(l===-1)break;var j=h.charAt(l-1).toLowerCase(),q=h.charAt(l+n).toLowerCase();if((j<"a"||j>"z")&&(q<"a"||q>"z")){s++;c[c.length]=l;e[l]=d}l+=n}}}c.sort(p.asc);m=[];a=0;n=c.length;for(g=l=0;a<200&&g<=n;){b=c[g];d=g<n?h.substr(l,b-
l):h.substr(l);f=d.length;if(i)if(g===n){if(f>50)d=d.substr(0,46)+" ..."}else if(g===0){if(f>50)d="... "+d.substr(f-50-4)}else if(f>100)d=d.substr(0,47)+" ... "+d.substr(f-50-3);m[m.length]=d;a+=d.length;if(g<n){d=e[b];m[m.length]="<b>"+h.substr(b,d.length)+"</b>";a+=d.length;l=b+d.length}g++}if(a>=200&&g<=n)m[m.length]=" ...";return m.join("")}})(window["10kse"],jQuery);
(function(p,r){var k=p.localStorage,o,h;r.suggest=function(m){m=m.replace(/^\s+|\s$/g,"").toLowerCase();if(!m||!k.length)return[];var i;i=k.length;if(i!==h){h=i;o=[];for(var a=i=0;a<h;a++){var b=k.key(a);if(b.indexOf("W-")===0)o[i++]=b.substr(2)}o.sort()}i=o;a=i.length;b=0;for(var e=a-1,c;e-b>1;){c=b+(e-b>>1);if(i[c]<=m)b=c;else e=c}if(i[b].indexOf(m)===0)b=b;else if(i[e].indexOf(m)===0)b=e;else return[];for(a=b+16>a?a-1:b+15;i[a].indexOf(m)!==0;)a--;return i.slice(b,a)}})(window,window["10kse"]);
(function(p,r,k){function o(e){function c(){if(l){var j=l.text(),q=f.val(),t=q.lastIndexOf(" ")+1;f.get(0).value=s=q.substr(0,t)+j}d.hide()}function g(){if(n.find("li").length){var j=f.offset();d.css({top:j.top+e.offsetHeight,left:j.left,width:e.offsetWidth});d.show()}}var f=k(e),d=k('<div class="auto"><ul></ul></div>').css({display:"none"}).appendTo(document.body),n=d.find("ul"),s="",l=null;f.bind("change keyup",function(j){var q=f.val();j=j.which;if(q!==s){s=q;j=q.lastIndexOf(" ");q=q.substr(j<
0?0:j).toLowerCase();if(q.length)if((j=b(q))&&j.length){n.empty();l=null;for(var t=0,v=j.length;t<v;t++)k("<li><span></span></li>").appendTo(n).find("span").html(j[t].split(q,2).join("<b>"+q+"</b>"));g()}else d.hide();else d.hide()}else if(j===h||j===m){if(l)if(j===h){q=l.prev();if(q.length){l.removeClass(a);l=q.addClass(a)}}else{q=l.next();if(q.length){l.removeClass(a);l=q.addClass(a)}}else l=n.find("li").eq(0).addClass(a);g()}else j===i&&c()}).parent("form").submit(c);n.mouseover(function(j){j=
k(j.target);j=j.is("li")?j:j.parent("li");if(j=j.length?j:null){l&&l.get(0)!==j.get(0)&&l.removeClass(a);l=j.addClass(a)}}).click(c)}var h=38,m=40,i=13,a="selected",b=r.suggest;k(".search input").each(function(){o(this)});r.autocomplete=o})(window,window["10kse"],jQuery);
(function(p,r,k,o){var h=k.get,m=o(".results dl"),i=o(".search input");o("form").submit(function(a){a.preventDefault();a=(i.val()||"").toLowerCase().split(/[^a-z0-9_]/);var b,e,c,g={},f,d={};b=0;for(e=a.length;b<e;b++){c=a[b];if(!d[c])if(c=d[c]=h("W-"+c))for(f in c)g[f]=(g[f]||0)+1}b=k.wordcount;e=k.normalize;d=[[1,e(g)],[1,e(b(g,a,"s",d))],[1,e(b(g,a,"t",d))],[1,e(b(g,a,"p",d))],[1,e(b(g,a,"c",d))]];g={};b=0;for(e=d.length;b<e;b++){var n=d[b];c=n[0];n=n[1];for(f in n){g[f]||(g[f]=0);g[f]+=c*n[f]}}d=
[];b=0;c={};var s;for(f in g){s=g[f];n=c[s]||(c[s]=[]);n[n.length]=f;d[b++]=s}d.sort(k.asc);d.reverse();var l=k.highlight,j=null;m.empty();b=0;for(e=d.length;b<e;b++){s=d[b];if(s!==j){j=s;n=c[s];s=0;for(var q=n.length;s<q;s++){f=n[s];var t=h("ID-"+f),v=h("URL-"+t),w=v.text;m.append(o("<dt><a></a></dt>").find("a").attr("href",t).attr("title",v.title).html(l(v.title,a,false)).end(),o("<dd><p></p></dd>").find("p").html(l(w,a)).end().append("<p><strong>Score: "+(g[f]+"").substr(0,4)+"</strong></p>"))}}}});
o(function(){i.focus()})})(window,document,window["10kse"],jQuery);
