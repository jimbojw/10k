(function(m){var q=m.localStorage,k=m.JSON.stringify,o=m.JSON.parse;m=m["10kse"]={};for(var j="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
p={},n=0,b=j.length;n<b;n++)p[j[n]]=true;m.asc=function(a,f){return a-f};m.get=function(a){return(a=q.getItem(a))?o(a):a};m.set=function(a,f){return q.setItem(a,k(f))};m.stop=p})(window);
(function(m){m.scanner=function(q,k,o){function j(t,x){var y;if(t.currentStyle)y=t.currentStyle[x];else if(q.getComputedStyle)y=b.getComputedStyle(t,null).getPropertyValue(x);return y}function p(t){return j(t,"display")!=="none"&&j(t,"visiblity")!=="hidden"}function n(t){var x=t.parentNode,y=x.parentNode,z=(t.innerText||t.textContent).replace(g," "),B=z.length;t=1;if(B>25){if(x[c]===o){x[c]=0;a[f++]=x}if(y[c]===o){y[c]=0;a[f++]=x}t+=z.split(",").length;z=B*0.01<<0;t+=z<4?z:3;x[c]+=t;y[c]+=t*0.5}}
var b=k.defaultView,a=[],f=0,c="10score",g=/\s+/g,e,d,i,l,h=k.getElementsByTagName("p");e=0;for(d=h.length;e<d;e++)n(h[e]);h=k.getElementsByTagName("div");var r,s=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;e=0;for(d=h.length;e<d;e++){r=h[e];s.test(r.innerHTML)&&n(r)}s=null;var u;for(e=0;e<f;e++){d=a[e];h=d.getElementsByTagName("a");i=u=0;for(l=h.length;i<l;i++){r=h[i];u+=(r.innerText||r.textContent).length}d[c]=score=d[c]*(1-u/(d.innerText||d.textContent).length);if(!s||score>s[c])s=d}s=s||
k.body;h=k.getSelection()||"";u="h1,h2,h3,h4,h5,h6,pre,code".split(",");r=[];var w,v;e=0;for(d=u.length;e<d;e++){w=k.getElementsByTagName(u[e]);i=0;for(l=w.length;i<l;i++){v=w[i];p(v)&&r.push(v.textContent)}}i=[];s=[s];var A;l=/[a-z][a-z][a-z]/i;for(u=/button|link|noscript|script|style/i;d=s.shift();){w=d.childNodes;e=0;for(d=w.length;e<d;e++){v=w[e];A=v.nodeType;if(A===1&&!u.test(v.tagName)&&p(v))s[s.length]=v;else if(A===3){text=v.nodeValue;if(l.test(text))i[i.length]=text}}}q["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:k.location.href,
selection:h,title:k.title,priority:r.join(" "),content:i.join(" ")}),"*")}})(window["10kse"]);
(function(m){function q(b){var a,f,c,g=0,e,d={};f=b.split(p);b=0;for(a=f.length;b<a;b++){g++;c=f[b];e=c.toLowerCase();if(c.length>2&&!n[e]){(c=d[e])||(c=d[e]=[]);c[c.length]=g}}return d}function k(b,a,f){if(f&&/[a-z]/i.test(f)){f=q(f);var c,g,e;for(c in f){g=o("W-"+c)||{};(e=g[b])||(e=g[b]={});e[a]=f[c];j("W-"+c,g)}}}var o=m.get,j=m.set,p=/[^0-9a-z_]+/i,n=m.stop;m.extract=q;m.indexer=function(b){var a,f=o("URL-"+b.url);if(f){a=f.id;if(b.content!==f.text||b.title!==f.title)j("URL-"+b.url,{id:a,text:b.content,
title:b.title})}else{a=o("COUNT")||0;j("ID-"+a,b.url);j("COUNT",a+1);j("URL-"+b.url,{id:a,text:b.content,title:b.title})}k(a,"s",b.selection);k(a,"t",b.title);k(a,"p",b.priority);k(a,"c",b.content)}})(window["10kse"],window);
(function(m,q,k,o){var j=o.get,p=o.set,n=q.location.href;j=j("key");if(!j){j=Math.random();p("key",j)}n=JSON.stringify(n.replace(/#.*|$/,"#"+j));k("#add").attr("href",("javascript:("+function(b,a,f){var c=b["10kse"];c||(c=b["10kse"]={});if(c.scanner)return c.scanner();b.addEventListener("message",function(d){if(f.substr(0,d.origin.length)===d.origin){c.scanner=new Function(d.data);c.scanner()}},false);var g=c.iframe=a.createElement("iframe");b=g.style;g.setAttribute("src",f);b.width=b.height="1px";
b.top=b.left="-2px";b.border="none";b.position="absolute";var e=false;g.onload=g.onreadystatechange=function(){if(!e&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){e=true;g.onload=g.onreadystatechange=null;g.contentWindow.postMessage("script",f)}};a.body.appendChild(g)}+")(window,document,"+n+")").replace(/\s+/g," ")).click(function(b){b.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
m!==m.top&&q.location.hash==="#"+j&&m.addEventListener("message",function(b){b.data==="script"?b.source.postMessage("("+o.scanner+")(window,document)","*"):o.indexer(JSON.parse(b.data))},false)})(window,document,jQuery,window["10kse"]);
(function(m,q,k){if(k===k.top){m=m.get;k=m("COUNT")||0;var o,j;if(k>0)for(var p=q("<ul></ul>").appendTo(q(".entries").find("div").empty());k>0;){k--;o=m("ID-"+k);j=m("URL-"+o);q("<li><a></a></li>").find("a").attr("href",o).attr("title",j.title).text(j.title).end().appendTo(p)}}})(window["10kse"],jQuery,window);
(function(m,q){var k=m.get;m.wordcount=function(o,j,p,n){n||(n={});for(var b={},a,f,c,g=0,e=j.length;g<e;g++){a=j[g];if(a.length>2&&!stop[a]){f=n[a];if(f===q)f=n[a]=k("W-"+a);if(f)for(c in o)if(a=f[c])if(a=a[p]){if(b[c]===q)b[c]=0;b[c]+=+a.length}}}return b};m.normalize=function(o,j,p){if(j===q)j=1;if(p===q)p=0.5;var n={},b,a,f,c;for(b in o){c=n[b]=o[b]*j;if(a===q||c>a)a=c;if(f===q||c<f)f=c}if(a===f){for(b in n)n[b]=p;return n}for(b in n)n[b]=(n[b]-f)*(1/(a-f));return n}})(window["10kse"]);
(function(m,q,k){var o=q("<div></div>");m.highlight=function(j,p,n){if(n===k)n=true;j=o.text(j).html();var b=j.toLowerCase(),a={},f={},c=[],g,e,d,i,l,h;g=0;for(e=p.length;g<e;g++){d=p[g].toLowerCase();i=d.length;if(i>2&&!a[d]){a[d]=true;for(h=l=0;l<3;){h=b.indexOf(d,h);if(h===-1)break;var r=j.charAt(h-1).toLowerCase(),s=j.charAt(h+i).toLowerCase();if((r<"a"||r>"z")&&(s<"a"||s>"z")){l++;c[c.length]=h;f[h]=d}h+=i}}}c.sort(m.asc);p=[];b=0;i=c.length;for(g=h=0;b<200&&g<=i;){a=c[g];d=g<i?j.substr(h,a-
h):j.substr(h);e=d.length;if(n)if(g===i){if(e>50)d=d.substr(0,46)+" ..."}else if(g===0){if(e>50)d="... "+d.substr(e-50-4)}else if(e>100)d=d.substr(0,47)+" ... "+d.substr(e-50-3);p[p.length]=d;b+=d.length;if(g<i){d=f[a];p[p.length]="<b>"+j.substr(a,d.length)+"</b>";b+=d.length;h=a+d.length}g++}if(b>=200&&g<=i)p[p.length]=" ...";return p.join("")}})(window["10kse"],jQuery);
(function(m,q,k){function o(a){a=a.replace(/^\s+|\s$/g,"");if(!a)return[];return[a,a+"a",a+"b",a+"c",a+"d"]}function j(a){function f(){if(i){var l=i.text(),h=c.val(),r=h.lastIndexOf(" ")+1;c.get(0).value=d=h.substr(0,r)+l;g.hide()}}var c=k(a),g=k('<div class="auto"><ul></ul></div>').css({display:"none"}).appendTo(document.body),e=g.find("ul"),d="",i=null;c.bind("change keyup",function(l){var h=c.val();l=l.which;if(h!==d){d=h;l=h.lastIndexOf(" ");h=h.substr(l<0?0:l).toLowerCase();if(h.length)if((l=
o(h))&&l.length){e.empty();i=null;for(var r=0,s=l.length;r<s;r++)k("<li><span></span></li>").appendTo(e).find("span").html(l[r].split(h,2).join("<b>"+h+"</b>"));h=c.offset();g.css({top:h.top+a.offsetHeight,left:h.left,width:a.offsetWidth});g.show()}else g.hide();else g.hide()}else if(l===p||l===n)if(i)if(l===p){h=i.prev();if(h.length){i.removeClass("selected");i=h.addClass("selected")}}else{h=i.next();if(h.length){i.removeClass("selected");i=h.addClass("selected")}}else i=e.find("li").eq(0).addClass("selected");
else l===b&&f()}).parent("form").submit(f)}var p=38,n=40,b=13;k(".search input").each(function(){j(this)});q.autocomplete=j;q.suggest=o})(window,window["10kse"],jQuery);
(function(m,q,k,o){var j=k.get,p=o(".results dl"),n=o(".search input");o("form").submit(function(b){b.preventDefault();b=(n.val()||"").toLowerCase().split(/[^a-z0-9_]/);var a,f,c,g={},e,d={};a=0;for(f=b.length;a<f;a++){c=b[a];if(!d[c])if(c=d[c]=j("W-"+c))for(e in c)g[e]=(g[e]||0)+1}a=k.wordcount;f=k.normalize;d=[[1,f(g)],[1,f(a(g,b,"s",d))],[1,f(a(g,b,"t",d))],[1,f(a(g,b,"p",d))],[1,f(a(g,b,"c",d))]];g={};a=0;for(f=d.length;a<f;a++){var i=d[a];c=i[0];i=i[1];for(e in i){g[e]||(g[e]=0);g[e]+=c*i[e]}}d=
[];a=0;c={};var l;for(e in g){l=g[e];i=c[l]||(c[l]=[]);i[i.length]=e;d[a++]=l}d.sort(k.asc);d.reverse();var h=k.highlight,r=null;p.empty();a=0;for(f=d.length;a<f;a++){l=d[a];if(l!==r){r=l;i=c[l];l=0;for(var s=i.length;l<s;l++){e=i[l];var u=j("ID-"+e),w=j("URL-"+u),v=w.text;p.append(o("<dt><a></a></dt>").find("a").attr("href",u).attr("title",w.title).html(h(w.title,b,false)).end(),o("<dd><p></p></dd>").find("p").html(h(v,b)).end().append("<p><strong>Score: "+(g[e]+"").substr(0,4)+"</strong></p>"))}}}});
o(function(){n.focus()})})(window,document,window["10kse"],jQuery);
