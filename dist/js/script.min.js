(function(m){var n=m.localStorage,j=m.JSON.stringify,q=m.JSON.parse;m=m["10kse"]={};for(var i="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
r={},p=0,a=i.length;p<a;p++)r[i[p]]=true;m.asc=function(b,f){return b-f};m.get=function(b){return(b=n.getItem(b))?q(b):b};m.set=function(b,f){return n.setItem(b,j(f))};m.stop=r})(window);
(function(m){m.scanner=function(n,j,q){function i(t,x){var y;if(t.currentStyle)y=t.currentStyle[x];else if(n.getComputedStyle)y=a.getComputedStyle(t,null).getPropertyValue(x);return y}function r(t){return i(t,"display")!=="none"&&i(t,"visiblity")!=="hidden"}function p(t){var x=t.parentNode,y=x.parentNode,z=(t.innerText||t.textContent).replace(g," "),B=z.length;t=1;if(B>25){if(x[d]===q){x[d]=0;b[f++]=x}if(y[d]===q){y[d]=0;b[f++]=x}t+=z.split(",").length;z=B*0.01<<0;t+=z<4?z:3;x[d]+=t;y[d]+=t*0.5}}
var a=j.defaultView,b=[],f=0,d="10score",g=/\s+/g,e,c,k,l,h=j.getElementsByTagName("p");e=0;for(c=h.length;e<c;e++)p(h[e]);h=j.getElementsByTagName("div");var o,s=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;e=0;for(c=h.length;e<c;e++){o=h[e];s.test(o.innerHTML)&&p(o)}s=null;var u;for(e=0;e<f;e++){c=b[e];h=c.getElementsByTagName("a");k=u=0;for(l=h.length;k<l;k++){o=h[k];u+=(o.innerText||o.textContent).length}c[d]=score=c[d]*(1-u/(c.innerText||c.textContent).length);if(!s||score>s[d])s=c}s=s||
j.body;h=j.getSelection()||"";u="h1,h2,h3,h4,h5,h6,pre,code".split(",");o=[];var w,v;e=0;for(c=u.length;e<c;e++){w=j.getElementsByTagName(u[e]);k=0;for(l=w.length;k<l;k++){v=w[k];r(v)&&o.push(v.textContent)}}k=[];s=[s];var A;l=/[a-z][a-z][a-z]/i;for(u=/button|link|noscript|script|style/i;c=s.shift();){w=c.childNodes;e=0;for(c=w.length;e<c;e++){v=w[e];A=v.nodeType;if(A===1&&!u.test(v.tagName)&&r(v))s[s.length]=v;else if(A===3){text=v.nodeValue;if(l.test(text))k[k.length]=text}}}n["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:j.location.href,
selection:h,title:j.title,priority:o.join(" "),content:k.join(" ")}),"*")}})(window["10kse"]);
(function(m){function n(a){var b,f,d,g=0,e,c={};f=a.split(r);a=0;for(b=f.length;a<b;a++){g++;d=f[a];e=d.toLowerCase();if(d.length>2&&!p[e]){(d=c[e])||(d=c[e]=[]);d[d.length]=g}}return c}function j(a,b,f){if(f&&/[a-z]/i.test(f)){f=n(f);var d,g,e;for(d in f){g=q("W-"+d)||{};(e=g[a])||(e=g[a]={});e[b]=f[d];i("W-"+d,g)}}}var q=m.get,i=m.set,r=/[^0-9a-z_]+/i,p=m.stop;m.extract=n;m.indexer=function(a){var b,f=q("URL-"+a.url);if(f){b=f.id;if(a.content!==f.text||a.title!==f.title)i("URL-"+a.url,{id:b,text:a.content,
title:a.title})}else{b=q("COUNT")||0;i("ID-"+b,a.url);i("COUNT",b+1);i("URL-"+a.url,{id:b,text:a.content,title:a.title})}j(b,"s",a.selection);j(b,"t",a.title);j(b,"p",a.priority);j(b,"c",a.content)}})(window["10kse"],window);
(function(m,n,j,q){var i=q.get,r=q.set,p=n.location.href;i=i("key");if(!i){i=Math.random();r("key",i)}p=JSON.stringify(p.replace(/#.*|$/,"#"+i));j("#add").attr("href",("javascript:("+function(a,b,f){var d=a["10kse"];d||(d=a["10kse"]={});if(d.scanner)return d.scanner();a.addEventListener("message",function(c){if(f.substr(0,c.origin.length)===c.origin){d.scanner=new Function(c.data);d.scanner()}},false);var g=d.iframe=b.createElement("iframe");a=g.style;g.setAttribute("src",f);a.width=a.height="1px";
a.top=a.left="-2px";a.border="none";a.position="absolute";var e=false;g.onload=g.onreadystatechange=function(){if(!e&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){e=true;g.onload=g.onreadystatechange=null;g.contentWindow.postMessage("script",f)}};b.body.appendChild(g)}+")(window,document,"+p+")").replace(/\s+/g," ")).click(function(a){a.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
m!==m.top&&n.location.hash==="#"+i&&m.addEventListener("message",function(a){a.data==="script"?a.source.postMessage("("+q.scanner+")(window,document)","*"):q.indexer(JSON.parse(a.data))},false)})(window,document,jQuery,window["10kse"]);
(function(m,n,j){if(j===j.top){m=m.get;j=m("COUNT")||0;var q,i;if(j>0)for(var r=n("<ul></ul>").appendTo(n(".entries").find("div").empty());j>0;){j--;q=m("ID-"+j);i=m("URL-"+q);n("<li><a></a></li>").find("a").attr("href",q).attr("title",i.title).text(i.title).end().appendTo(r)}}})(window["10kse"],jQuery,window);
(function(m,n){var j=m.get;m.wordcount=function(q,i,r,p){p||(p={});for(var a={},b,f,d,g=0,e=i.length;g<e;g++){b=i[g];if(b.length>2&&!stop[b]){f=p[b];if(f===n)f=p[b]=j("W-"+b);if(f)for(d in q)if(b=f[d])if(b=b[r]){if(a[d]===n)a[d]=0;a[d]+=+b.length}}}return a};m.normalize=function(q,i,r){if(i===n)i=1;if(r===n)r=0.5;var p={},a,b,f,d;for(a in q){d=p[a]=q[a]*i;if(b===n||d>b)b=d;if(f===n||d<f)f=d}if(b===f){for(a in p)p[a]=r;return p}for(a in p)p[a]=(p[a]-f)*(1/(b-f));return p}})(window["10kse"]);
(function(m,n,j){var q=n("<div></div>");m.highlight=function(i,r,p){if(p===j)p=true;i=q.text(i).html();var a=i.toLowerCase(),b={},f={},d=[],g,e,c,k,l,h;g=0;for(e=r.length;g<e;g++){c=r[g].toLowerCase();k=c.length;if(k>2&&!b[c]){b[c]=true;for(h=l=0;l<3;){h=a.indexOf(c,h);if(h===-1)break;var o=i.charAt(h-1).toLowerCase(),s=i.charAt(h+k).toLowerCase();if((o<"a"||o>"z")&&(s<"a"||s>"z")){l++;d[d.length]=h;f[h]=c}h+=k}}}d.sort(m.asc);r=[];a=0;k=d.length;for(g=h=0;a<200&&g<=k;){b=d[g];c=g<k?i.substr(h,b-
h):i.substr(h);e=c.length;if(p)if(g===k){if(e>50)c=c.substr(0,46)+" ..."}else if(g===0){if(e>50)c="... "+c.substr(e-50-4)}else if(e>100)c=c.substr(0,47)+" ... "+c.substr(e-50-3);r[r.length]=c;a+=c.length;if(g<k){c=f[b];r[r.length]="<b>"+i.substr(b,c.length)+"</b>";a+=c.length;h=b+c.length}g++}if(a>=200&&g<=k)r[r.length]=" ...";return r.join("")}})(window["10kse"],jQuery);(function(m){m.suggest=function(n){n=n.replace(/^\s+|\s$/g,"");if(!n)return[];return[n,n+"a",n+"b",n+"c",n+"d"]}})(window["10kse"]);
(function(m,n,j){function q(f){function d(){if(l){var h=l.text(),o=g.val(),s=o.lastIndexOf(" ")+1;g.get(0).value=k=o.substr(0,s)+h;e.hide()}}var g=j(f),e=j('<div class="auto"><ul></ul></div>').css({display:"none"}).appendTo(document.body),c=e.find("ul"),k="",l=null;g.bind("change keyup",function(h){var o=g.val();h=h.which;if(o!==k){k=o;h=o.lastIndexOf(" ");o=o.substr(h<0?0:h).toLowerCase();if(o.length)if((h=b(o))&&h.length){c.empty();l=null;for(var s=0,u=h.length;s<u;s++)j("<li><span></span></li>").appendTo(c).find("span").html(h[s].split(o,
2).join("<b>"+o+"</b>"));o=g.offset();e.css({top:o.top+f.offsetHeight,left:o.left,width:f.offsetWidth});e.show()}else e.hide();else e.hide()}else if(h===i||h===r)if(l)if(h===i){o=l.prev();if(o.length){l.removeClass(a);l=o.addClass(a)}}else{o=l.next();if(o.length){l.removeClass(a);l=o.addClass(a)}}else l=c.find("li").eq(0).addClass(a);else h===p&&d()}).parent("form").submit(d);c.mouseover(function(h){h=j(h.target);h=h.is("li")?h:h.parent("li");if(h=h.length?h:null){l&&l.get(0)!==h.get(0)&&l.removeClass(a);
l=h.addClass(a)}}).click(d)}var i=38,r=40,p=13,a="selected",b=n.suggest;j(".search input").each(function(){q(this)});n.autocomplete=q})(window,window["10kse"],jQuery);
(function(m,n,j,q){var i=j.get,r=q(".results dl"),p=q(".search input");q("form").submit(function(a){a.preventDefault();a=(p.val()||"").toLowerCase().split(/[^a-z0-9_]/);var b,f,d,g={},e,c={};b=0;for(f=a.length;b<f;b++){d=a[b];if(!c[d])if(d=c[d]=i("W-"+d))for(e in d)g[e]=(g[e]||0)+1}b=j.wordcount;f=j.normalize;c=[[1,f(g)],[1,f(b(g,a,"s",c))],[1,f(b(g,a,"t",c))],[1,f(b(g,a,"p",c))],[1,f(b(g,a,"c",c))]];g={};b=0;for(f=c.length;b<f;b++){var k=c[b];d=k[0];k=k[1];for(e in k){g[e]||(g[e]=0);g[e]+=d*k[e]}}c=
[];b=0;d={};var l;for(e in g){l=g[e];k=d[l]||(d[l]=[]);k[k.length]=e;c[b++]=l}c.sort(j.asc);c.reverse();var h=j.highlight,o=null;r.empty();b=0;for(f=c.length;b<f;b++){l=c[b];if(l!==o){o=l;k=d[l];l=0;for(var s=k.length;l<s;l++){e=k[l];var u=i("ID-"+e),w=i("URL-"+u),v=w.text;r.append(q("<dt><a></a></dt>").find("a").attr("href",u).attr("title",w.title).html(h(w.title,a,false)).end(),q("<dd><p></p></dd>").find("p").html(h(v,a)).end().append("<p><strong>Score: "+(g[e]+"").substr(0,4)+"</strong></p>"))}}}});
q(function(){p.focus()})})(window,document,window["10kse"],jQuery);
