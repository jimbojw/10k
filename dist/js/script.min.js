(function(n){var r=n.localStorage,l=n.JSON.stringify,o=n.JSON.parse;n=n["10kse"]={};for(var g="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
f={},j=0,h=g.length;j<h;j++)f[g[j]]=true;n.asc=function(a,b){return a-b};n.get=function(a){return(a=r.getItem("10kse-"+a))?o(a):a};n.set=function(a,b){return r.setItem("10kse-"+a,l(b))};n.stop=f})(window);
(function(n){function r(g){for(var f=this.data,j,h,a=0,b=g.length;a<b;a++){h=g.charAt(a);(j=f[h])||(j=f[h]={});f=j}f.$=1}function l(g){for(var f=this.data,j,h=0,a=g.length;h<a;h++){j=g.charAt(h);f=f[j];if(!f)return null;f=f}return f}function o(g){var f=this.find(g);if(!f)return[];for(var j=[[g,f]],h=[],a=0,b;j.length;){f=j.shift();g=f[0];f=f[1];if(f.$)h[a++]=g;for(b in f)if(b!=="$")j[j.length]=[g+b,f[b]]}h.sort();return h}n.trie=function(g){return{add:r,data:g,find:l,match:o}}})(window["10kse"],jQuery);
(function(n){n.scanner=function(r,l,o){function g(t,y){var z;if(t.currentStyle)z=t.currentStyle[y];else if(r.getComputedStyle)z=h.getComputedStyle(t,null).getPropertyValue(y);return z}function f(t){return g(t,"display")!=="none"&&g(t,"visiblity")!=="hidden"}function j(t){var y=t.parentNode,z=y.parentNode,A=(t.innerText||t.textContent).replace(i," "),B=A.length;t=1;if(B>25){if(y[c]===o){y[c]=0;a[b++]=y}if(z[c]===o){z[c]=0;a[b++]=y}t+=A.split(",").length;A=B*0.01<<0;t+=A<4?A:3;y[c]+=t;z[c]+=t*0.5}}
var h=l.defaultView,a=[],b=0,c="10score",i=/\s+/g,e,d,k,s,q=l.getElementsByTagName("p");e=0;for(d=q.length;e<d;e++)j(q[e]);q=l.getElementsByTagName("div");var u,p=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;e=0;for(d=q.length;e<d;e++){u=q[e];p.test(u.innerHTML)&&j(u)}p=null;var v;for(e=0;e<b;e++){d=a[e];q=d.getElementsByTagName("a");k=v=0;for(s=q.length;k<s;k++){u=q[k];v+=(u.innerText||u.textContent).length}d[c]=score=d[c]*(1-v/(d.innerText||d.textContent).length);if(!p||score>p[c])p=d}p=p||
l.body;q=l.getSelection()||"";v="h1,h2,h3,h4,h5,h6,pre,code".split(",");u=[];var x,m;e=0;for(d=v.length;e<d;e++){x=l.getElementsByTagName(v[e]);k=0;for(s=x.length;k<s;k++){m=x[k];f(m)&&u.push(m.textContent)}}k=[];p=[p];var w;s=/[a-z][a-z][a-z]/i;for(v=/button|link|noscript|script|style/i;d=p.shift();){x=d.childNodes;e=0;for(d=x.length;e<d;e++){m=x[e];w=m.nodeType;if(w===1&&!v.test(m.tagName)&&f(m))p[p.length]=m;else if(w===3){text=m.nodeValue;if(s.test(text))k[k.length]=text}}}r["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:l.location.href,
selection:q,title:l.title,priority:u.join(" "),content:k.join(" ")}),"*")}})(window["10kse"]);
(function(n){function r(a){var b,c,i,e=0,d,k={};c=a.split(f);a=0;for(b=c.length;a<b;a++){e++;i=c[a];d=i.toLowerCase();if(i.length>2&&!j[d]){(i=k[d])||(i=k[d]=[]);i[i.length]=e}}return k}function l(a,b,c,i){if((c=""+c)&&/[a-z]/i.test(c)){c=r(c);var e,d,k;for(e in c){d=o("W-"+e)||{};(k=d[a])||(k=d[a]={});k[b]=c[e];g("W-"+e,d);i[e]=1}}}var o=n.get,g=n.set,f=/[^0-9a-z_]+/i,j=n.stop,h=n.trie;n.extract=r;n.indexer=function(a){var b,c=o("URL-"+a.url);if(c){b=c.id;if(a.content!==c.text||a.title!==c.title)g("URL-"+
a.url,{id:b,text:a.content,title:a.title})}else{b=o("COUNT")||0;g("ID-"+b,a.url);g("COUNT",b+1);g("URL-"+a.url,{id:b,text:a.content,title:a.title})}c={};l(b,"s",a.selection,c);l(b,"t",a.title,c);l(b,"p",a.priority,c);l(b,"c",a.content,c);a=o("ALL")||{};b=h(a);var i;for(i in c)b.add(i);g("ALL",a)}})(window["10kse"],window);
(function(n,r,l,o){var g=o.get,f=o.set,j=r.location.href;g=g("K");if(!g){g=Math.random();f("K",g)}j=JSON.stringify(j.replace(/#.*|$/,"#"+g));f="javascript:("+(function(h,a,b){var c=h["10kse"];c||(c=h["10kse"]={});if(c.scanner)return c.scanner();h.addEventListener("message",function(d){if(b.substr(0,d.origin.length)===d.origin){c.scanner=new Function(d.data);c.scanner()}},false);var i=c.iframe=a.createElement("iframe");h=i.style;i.setAttribute("src",b);h.width=h.height="1px";h.top=h.left="-2px";h.border=
"none";h.position="absolute";var e=false;i.onload=i.onreadystatechange=function(){if(!e&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){e=true;i.onload=i.onreadystatechange=null;i.contentWindow.postMessage("script",b)}};a.body.appendChild(i)}+"").replace(/\/\*[\s\S]*?\*\//g,"").replace(/\s+/g," ")+")(window,document,"+j+")";l("#add").attr("href",f).click(function(h){h.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
n!==n.top&&r.location.hash==="#"+g&&n.addEventListener("message",function(h){h.data==="script"?h.source.postMessage("("+o.scanner+")(window,document)","*"):o.indexer(JSON.parse(h.data))},false)})(window,document,jQuery,window["10kse"]);
(function(n,r,l){if(l===l.top){n=n.get;l=n("COUNT")||0;var o,g;if(l>0)for(var f=r("<ul></ul>").appendTo(r(".entries").find("div").empty());l>0;){l--;o=n("ID-"+l);g=n("URL-"+o);r("<li><a></a></li>").find("a").attr("href",o).attr("title",g.title).text(g.title).end().appendTo(f)}}})(window["10kse"],jQuery,window);
(function(n,r){var l=n.get;n.wordcount=function(o,g,f,j){j||(j={});for(var h={},a,b,c,i=0,e=g.length;i<e;i++){a=g[i];if(a.length>2&&!stop[a]){b=j[a];if(b===r)b=j[a]=l("W-"+a);if(b)for(c in o)if(a=b[c])if(a=a[f]){if(h[c]===r)h[c]=0;h[c]+=+a.length}}}return h};n.normalize=function(o,g,f){if(g===r)g=1;if(f===r)f=0.5;var j={},h,a,b,c;for(h in o){c=j[h]=o[h]*g;if(a===r||c>a)a=c;if(b===r||c<b)b=c}if(a===b){for(h in j)j[h]=f;return j}for(h in j)j[h]=(j[h]-b)*(1/(a-b));return j};n.topdistance=function(o,
g,f,j){j||(j={});var h={},a,b,c,i;for(c in o){i=null;for(var e=0,d=g.length;e<d;e++){a=g[e];if(a.length>2&&!stop[a]){b=j[a];if(b===r)b=j[a]=l("W-"+a);if(b)if(a=b[c])if(a=a[f])if(i===null||a[0]<i)i=a[0]}}if(i!==null)h[c]=i}return h}})(window["10kse"]);
(function(n,r,l){var o=r("<div></div>");n.highlight=function(g,f,j){if(j===l)j=true;g=o.text(g).html();var h=g.toLowerCase(),a={},b={},c=[],i,e,d,k,s,q;i=0;for(e=f.length;i<e;i++){d=f[i].toLowerCase();k=d.length;if(k>2&&!a[d]){a[d]=true;for(q=s=0;s<3;){q=h.indexOf(d,q);if(q===-1)break;var u=g.charAt(q-1).toLowerCase(),p=g.charAt(q+k).toLowerCase();if((u<"a"||u>"z")&&(p<"a"||p>"z")){s++;c[c.length]=q;b[q]=d}q+=k}}}c.sort(n.asc);f=[];h=0;k=c.length;for(i=q=0;h<200&&i<=k;){a=c[i];d=i<k?g.substr(q,a-
q):g.substr(q);e=d.length;if(j)if(i===k){if(e>50)d=d.substr(0,46)+" ..."}else if(i===0){if(e>50)d="... "+d.substr(e-50-4)}else if(e>100)d=d.substr(0,47)+" ... "+d.substr(e-50-3);f[f.length]=d;h+=d.length;if(i<k){d=b[a];f[f.length]="<b>"+g.substr(a,d.length)+"</b>";h+=d.length;q=a+d.length}i++}if(h>=200&&i<=k)f[f.length]=" ...";return f.join("")}})(window["10kse"],jQuery);
(function(n,r){var l=n.localStorage,o=r.get,g=r.trie;r.suggest=function(f){f=f.replace(/^\s+|\s$/g,"").toLowerCase();if(!f||!l.length)return[];var j=o("ALL");return g(j).match(f).slice(0,15)}})(window,window["10kse"]);
(function(n,r,l){function o(i){function e(){x(v);v=null;if(p){var m=p.text(),w=k.val(),t=w.lastIndexOf(" ")+1;k.val(u=w.substr(0,t)+m);p.removeClass(b);p=null}s.hide()}function d(){if(q.find("li").length){var m=k.offset();s.css({top:m.top+i.offsetHeight,left:m.left,width:i.offsetWidth});s.show()}}var k=l(i),s=l('<div class="auto"><ul></ul></div>').css({display:"none"}).appendTo(document.body),q=s.find("ul"),u="",p=null,v,x=n.clearTimeout;k.bind("change keyup",function(m){var w=k.val();m=m.which;if(m===
h||m===f)e();else if(m===a)s.hide();else if(m===g||m===j){if(p)if(m===g){w=p.prev();if(w.length){p.removeClass(b);p=w.addClass(b)}}else{w=p.next();if(w.length){p.removeClass(b);p=w.addClass(b)}}else p=q.find("li").eq(0).addClass(b);d()}else if(w!==u){u=w;m=w.lastIndexOf(" ");var t=w.substr(m<0?0:m).toLowerCase();if(t.length){v&&x(v);v=n.setTimeout(function(){x(v);v=null;var y=c(t);if(y&&y.length){q.empty();p=null;for(var z=0,A=y.length;z<A;z++)l("<li><span></span></li>").appendTo(q).find("span").html(y[z].split(t,
2).join("<b>"+t+"</b>"));d()}else s.hide()},100)}else s.hide()}}).parent("form").submit(e);q.mouseover(function(m){m=l(m.target);m=m.is("li")?m:m.parent("li");if(m=m.length?m:null){p&&p.get(0)!==m.get(0)&&p.removeClass(b);p=m.addClass(b)}}).click(e)}var g=38,f=39,j=40,h=13,a=27,b="selected",c=r.suggest;l(".search input").each(function(){o(this)});r.autocomplete=o})(window,window["10kse"],jQuery);
(function(n,r,l,o){function g(){var a=(h.val()||"").replace(/^\s+|\s+$/g,""),b=a.toLowerCase().split(/[^a-z0-9_]/),c,i,e={},d,k={};if(a){c=0;for(i=b.length;c<i;c++){a=b[c];if(!k[a])if(a=k[a]=f("W-"+a))for(d in a)e[d]=(e[d]||0)+1}a=l.wordcount;var s=l.normalize,q=l.topdistance;e=[[1,s(e)],[1,s(a(e,b,"s",k))],[1,s(a(e,b,"t",k))],[1,s(a(e,b,"p",k))],[1,s(a(e,b,"c",k))],[1,s(q(e,b,"s",k),-1)],[1,s(q(e,b,"t",k),-1)],[1,s(q(e,b,"p",k),-1)],[1,s(q(e,b,"c",k),-1)]];var u={};c=0;for(i=e.length;c<i;c++){a=
e[c];k=a[0];a=a[1];for(d in a){u[d]||(u[d]=0);u[d]+=k*a[d]}}var p=[];e=0;var v={},x,m;for(d in u){x=u[d];m=v[x]||(v[x]=[]);m[m.length]=d;p[e++]=x}p.sort(l.asc);p.reverse();var w=l.highlight,t=null;j.slideUp("slow",function(){j.empty();c=0;for(i=p.length;c<i;c++){x=p[c];if(x!==t){t=x;m=v[x];for(var y=0,z=m.length;y<z;y++){d=m[y];var A=f("ID-"+d),B=f("URL-"+A),C=B.text;j.append(o("<dt><a></a></dt>").find("a").attr("href",A).attr("title",B.title).html(w(B.title,b,false)).end(),o("<dd><p></p></dd>").find("p").html(w(C,
b)).end().append("<p><strong>Score: "+(u[d]+"").substr(0,4)+"</strong></p>"))}}}j.slideDown("slow")})}}var f=l.get,j=o(".results dl"),h=o(".search input").eq(0);o("form").submit(function(a){a.preventDefault();setTimeout(g,100)});o(function(){h.focus()})})(window,document,window["10kse"],jQuery);
