(function(l){var q=l.localStorage,i=l.JSON.stringify,m=l.JSON.parse;l=l["10kse"]={};for(var k="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
r={},t=0,c=k.length;t<c;t++)r[k[t]]=true;l.get=function(g){return(g=q.getItem(g))?m(g):g};l.set=function(g,f){return q.setItem(g,i(f))};l.stop=r})(window);
(function(l){l.scanner=function(q,i,m){function k(s,u){var x;if(s.currentStyle)x=s.currentStyle[u];else if(q.getComputedStyle)x=c.getComputedStyle(s,null).getPropertyValue(u);return x}function r(s){return k(s,"display")!=="none"&&k(s,"visiblity")!=="hidden"}function t(s){var u=s.parentNode,x=u.parentNode,z=(s.innerText||s.textContent).replace(d," "),B=z.length;s=1;if(B>25){if(u[e]===m){u[e]=0;g[f++]=u}if(x[e]===m){x[e]=0;g[f++]=u}s+=z.split(",").length;z=B*0.01<<0;s+=z<4?z:3;u[e]+=s;x[e]+=s*0.5}}
var c=i.defaultView,g=[],f=0,e="10score",d=/\s+/g,a,b,h,n,o=i.getElementsByTagName("p");a=0;for(b=o.length;a<b;a++)t(o[a]);o=i.getElementsByTagName("div");var p,j=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;a=0;for(b=o.length;a<b;a++){p=o[a];j.test(p.innerHTML)&&t(p)}j=null;var w;for(a=0;a<f;a++){b=g[a];o=b.getElementsByTagName("a");h=w=0;for(n=o.length;h<n;h++){p=o[h];w+=(p.innerText||p.textContent).length}b[e]=score=b[e]*(1-w/(b.innerText||b.textContent).length);if(!j||score>j[e])j=b}j=j||
i.body;o=i.getSelection()||"";w="h1,h2,h3,h4,h5,h6,pre,code".split(",");p=[];var y,v;a=0;for(b=w.length;a<b;a++){y=i.getElementsByTagName(w[a]);h=0;for(n=y.length;h<n;h++){v=y[h];r(v)&&p.push(v.textContent)}}h=[];j=[j];var A;n=/[a-z][a-z][a-z]/i;for(w=/button|link|noscript|script|style/i;b=j.shift();){y=b.childNodes;a=0;for(b=y.length;a<b;a++){v=y[a];A=v.nodeType;if(A===1&&!w.test(v.tagName)&&r(v))j[j.length]=v;else if(A===3){text=v.nodeValue;if(n.test(text))h[h.length]=text}}}q["10kse"].iframe.contentWindow.postMessage(JSON.stringify({url:i.location.href,
selection:o,title:i.title,priority:p.join(" "),content:h.join(" ")}),"*")}})(window["10kse"]);
(function(l){function q(c){var g,f,e,d=0,a,b={};f=c.split(r);c=0;for(g=f.length;c<g;c++){d++;e=f[c];a=e.toLowerCase();if(e.length>2&&!t[a]){(e=b[a])||(e=b[a]=[]);e[e.length]=d}}return b}function i(c,g,f){if(f&&/[a-z]/i.test(f)){f=q(f);var e,d,a;for(e in f){d=m("W-"+e)||{};(a=d[c])||(a=d[c]={});a[g]=f[e];k("W-"+e,d)}}}var m=l.get,k=l.set,r=/[^0-9a-z_]+/i,t=l.stop;l.extract=q;l.indexer=function(c){var g,f=m("URL-"+c.url);if(f){g=f.id;if(c.content!==f.text||c.title!==f.title)k("URL-"+c.url,{id:g,text:c.content,
title:c.title})}else{g=m("COUNT")||0;k("ID-"+g,c.url);k("COUNT",g+1);k("URL-"+c.url,{id:g,text:c.content,title:c.title})}i(g,"s",c.selection);i(g,"t",c.title);i(g,"p",c.priority);i(g,"c",c.content)}})(window["10kse"],window);
(function(l,q,i,m){var k=m.get,r=m.set,t=q.location.href;k=k("key");if(!k){k=Math.random();r("key",k)}t=JSON.stringify(t.replace(/#.*|$/,"#"+k));i("#add").attr("href",("javascript:("+function(c,g,f){var e=c["10kse"];e||(e=c["10kse"]={});if(e.scanner)return e.scanner();c.addEventListener("message",function(b){if(f.substr(0,b.origin.length)===b.origin){e.scanner=new Function(b.data);e.scanner()}},false);var d=e.iframe=g.createElement("iframe");c=d.style;d.setAttribute("src",f);c.width=c.height="1px";
c.top=c.left="-2px";c.border="none";c.position="absolute";var a=false;d.onload=d.onreadystatechange=function(){if(!a&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){a=true;d.onload=d.onreadystatechange=null;d.contentWindow.postMessage("script",f)}};g.body.appendChild(d)}+")(window,document,"+t+")").replace(/\s+/g," ")).click(function(c){c.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
l!==l.top&&q.location.hash==="#"+k&&l.addEventListener("message",function(c){c.data==="script"?c.source.postMessage("("+m.scanner+")(window,document)","*"):m.indexer(JSON.parse(c.data))},false)})(window,document,jQuery,window["10kse"]);
(function(l,q,i){if(i===i.top){l=l.get;i=l("COUNT")||0;var m,k;if(i>0)for(var r=q("<ul></ul>").appendTo(q(".entries").find("div").empty());i>0;){i--;m=l("ID-"+i);k=l("URL-"+m);q("<li><a></a></li>").find("a").attr("href",m).attr("title",k.title).text(k.title).end().appendTo(r)}}})(window["10kse"],jQuery,window);
(function(l,q,i,m,k){var r=i.get,t=i.stop,c=m(".results dl"),g=m(".search input");m("form").submit(function(f){f.preventDefault();var e=(g.val()||"").toLowerCase().split(/[^a-z0-9_]/),d,a,b;f={};var h,n={};d=0;for(a=e.length;d<a;d++){b=e[d];if(!n[b])if(b=n[b]=r("W-"+b))for(h in b)f[h]+=1}c.empty();e=new RegExp("(.*?\\b)("+e.join("|")+")(\\b.*)");for(h in f){a=r("ID-"+h);n=r("URL-"+a);d=n.text;b=[];for(var o=0,p=0,j=d.match(e);j;){b[o++]=j[1];b[o++]=j[2];p+=j[1].length+j[2].length;d=j[3];j=d.match(e);
if(o>10||p>300)break}b[o++]=d;p=m("<dd></dd>");for(d=0;d<o;d++)if(d%2)p.append(m("<strong></strong>").text(b[d]));else{j=b[d];if(j.length>100)j=(d?j.substr(0,47):"")+" ... "+(d<o-1?j.substr(j.length-47):"");p.append(q.createTextNode(j))}c.append(m("<dt><a></a></dt>").find("a").attr("href",a).attr("title",n.title).text(n.title).end(),p)}});m(function(){g.focus()});i.wordcount=function(f,e,d,a){a||(a={});for(var b={},h,n,o,p=0,j=e.length;p<j;p++){h=e[p];if(h.length>2&&!t[h]){h=a[h]||(a[h]=r("W-"+h));
for(n in f)if(o=h[n])if(o=o[d]){if(b[n]===k)b[n]=0;b[n]+=+o.length}}}return b};i.normalize=function(f,e){if(e===k)e=1;var d={},a,b,h,n;for(a in f){n=d[a]=f[a]*e;if(b===k||n>b)b=n;if(h===k||n<h)h=n}for(a in d)d[a]=(d[a]-h)*(1/(b-h));return d}})(window,document,window["10kse"],jQuery);
