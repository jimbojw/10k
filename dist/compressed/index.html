<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<link rel="icon" href="image/icon.png" type="image/png" />
<title>10k personal search engine</title>
<style type="text/css">body{font-family:'Helvetica Neue',Arial,'Liberation Sans',FreeSans,sans-serif;width:600px;margin:0 auto;background:#eee;}h1{background:#036;color:white;padding:1em 0;font-size:2.5em;text-align:center;background-image:-moz-linear-gradient(center bottom,#1b4080 32%,#486bb3 72%);background-image:-webkit-gradient(linear,left bottom,left top,color-stop(0.32,#1b4080),color-stop(0.72,#486bb3));-moz-border-radius:8px;border-radius:8px;text-shadow:#333 1px 1px 1px;}h1 i{font-family:'Helvetica Neue',Arial,'Liberation Sans',FreeSans,sans-serif;}dt{font-size:1.1em;}dd{margin-left:0;margin-bottom:2.5em;}dd p{margin:1em 0;}a,a:visited{color:#06c;}input[type=text]{width:100%;border:1px solid #aaa;}input[type=submit],input[type=button]{border:1px solid #aaa;background-image:-moz-linear-gradient(center bottom,#ddd 32%,#f3f3f3 72%);background-image:-webkit-gradient(linear,left bottom,left top,color-stop(0.32,#ddd),color-stop(0.72,#f3f3f3));-moz-border-radius:3px;border-radius:2px;padding:.25em 1em;font-size:medium;}.search input[type=text]{font-size:1.3em;}.search form p{text-align:center;}.results{margin-top:2em;}.pane{clear:both;background:white;border:1px solid #aaa;margin-bottom:1em;padding:0 1em 1em;-moz-border-radius:8px;border-radius:8px;display:none;min-height:250px;}.pane.selected{display:inherit;}ul{list-style-type:square;color:#06c;}li{margin-bottom:.5em;}#add{display:block;margin:1em auto;width:5em;background:#33e800;color:white;padding:.5em;font-size:2.5em;text-align:center;background-image:-moz-linear-gradient(center bottom,#22b900 32%,#33e800 72%);background-image:-webkit-gradient(linear,left bottom,left top,color-stop(0.32,#22b900),color-stop(0.72,#33e800));-moz-border-radius:8px;border-radius:8px;text-shadow:#333 1px 1px 1px;text-decoration:none;}.prefs ul{margin:0;padding:0;list-style-type:none;}.prefs li{display:inline;padding:0 2em;}.saved{background:#ff0;padding:.5em 1em;}textarea{width:100%;border:1px solid #aaa;height:6em;}.about img{float:right;padding:0;margin:0;position:relative;top:-30px;}.about p{margin:1em;}.allpages p{margin:1em;}.nav ul{margin:0 1em;padding:0;padding-top:1px;list-style-type:none;}.nav li{float:left;margin:0 .6em;padding:.25em 1em;background:#ddd;-moz-border-radius-topRight:6px;-moz-border-radius-topLeft:6px;border-top-right-radius:6px;border-top-left-radius:6px;border:1px solid #aaa;border-bottom:none;color:#444;cursor:pointer;}.nav .selected{color:#06c;background:#fff;z-index:1;position:relative;top:1px;}.auto{position:absolute;background:#fff;padding:0;margin:0;border:none;}.auto ul{margin:0;padding:0;list-style-type:none;border:1px solid #ccc;}.auto li{margin:0;padding:.25em .5em;font-size:1.2em;}.auto .selected{background:#f0f0f0;}</style>
<script type="text/javascript" src="http://use.typekit.com/nci1tgf.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>
<!--html-->
<div class="container">
<h1><span><i>10</i>k personal search engine</span></h1>
<div class="nav">
<ul>
<li class="welcome">welcome</li>
<li class="search">search</li>
<li class="allpages">all pages</li>
<li class="prefs">preferences</li>
<li class="about">about</li>
</ul>
</div>
<div class="search pane">
<div>
<h2><span>Search</span></h2>
<form>
<p><input type="text" name="search" autocomplete="off" /></p>
<p>
<input type="submit" name="submit" value="Search" />
<input type="button" name="web" value="Web" />
</p>
</form>
</div>
<div class="results"><dl></dl></div>
</div>
<div class="welcome pane">
<h2><span>Welcome</span></h2>
<p>
The 'add' button below is a 
<a href="http://en.wikipedia.org/wiki/Bookmarklet" title="wikipedia:bookmarklet">bookmarklet</a>.
</p>
<ol>
<li>Drag it to your bookmarks toolbar or add it to your favorites.</li>
<li>When you're on a page you want to add, click the bookmark.</li>
<li>That page will now appear in your <a href="#search" class="nav">search results</a>!</li>
</ol>
<p><a href="" title="Add to search engine" id="add" class="tk"><span>add</span></a></p>
<p>* Adding some pages may take a while, please be patient - it's worth it!</p>
</div>
<div class="allpages pane">
<h2><span>All pages</span></h2>
<div>
<p>Sorry, it looks like you haven't added any pages yet.</p>
<p>Use the bookmarklet in the <a href="#welcome" class="nav">welcome tab</a> to add some.</p>
</div>
</div>
<div class="prefs pane">
<h2><span>Preferences</span></h2>
<form>
<p>Optimize your personal search experience.</p>
<h3><span>Web search</span></h3>
<p>When using the 'web' search option, use this url where <tt>%s</tt> is the query param:</p>
<p><input type="text" /></p>
<p>Enter your own value, or select from the following:</p>
<ul>
<li><a href="http://www.ask.com/web?q=%s" title="ask">ask</a></li>
<li><a href="http://www.bing.com/search?q=%s" title="bing">bing</a></li>
<li><a href="http://www.google.com/#q=%s" title="google" class="def">google</a></li>
<li><a href="http://search.yahoo.com/search?p=%s" title="yahoo">yahoo</a></li>
</ul>
<h3><span>Custom code</span></h3>
<p>Custom CSS you'd like added to the page on load:</p>
<p><textarea class="csscode"></textarea></p>
<p>Custom JavaScript you'd like to have run in the page (be careful!):</p>
<p><textarea class="jscode"></textarea></p>
<p>When you're done hacking, click Save, then refresh to see changes:</p>
<p><input type="submit" name="save" value="Save" /> <span class="saved" style="visibility:hidden">Saved!</span></p>
</form>
</div>
<div class="about pane">
<h2><span>About</span></h2>
<p>
This is an application I've wanted to write for a long time, but never could due to browser constraints.
</p>
<p>
The <a href="http://10k.aneventapart.com/" title="10k apart">10k apart contest</a> seemed like the perfect 
excuse to finally sit down and actually do it.
</p>
<h2><span>Code</span></h2>
<p>
All the source code for this project is available on github at 
<a href="http://github.com/jimbojw/10k" title="jimbojw/10k">jimbojw/10k</a>.
</p>
<h2><span>Contact</span></h2>
<img src="http://chart.apis.google.com/chart?cht=qr&chs=120x120&chl=MECARD%3AN%3AJim+R.+Wilson%3BTEL%3A8168985108%3BURL%3Ahttp%3A%2F%2Fhexlib.com%2F%3BEMAIL%3Awilson.jim.r%40gmail.com%3B%3B" />
<ul>
<li>Jim R. Wilson</li>
<li><a href="mailto:wilson.jim.r@gmail.com" title="wilson.jim.r@gmail.com">wilson.jim.r@gmail.com</a></li>
<li><a href="http://hexlib.com/" title="hexlib.com">http://hexlib.com/</a></li>
</div>
</div>
<!--/html-->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script>(function(m){m.document.location.protocol.substr(0,4)!=="http"&&alert("Dear hacker, the bookmarklet will only work if \nthe target page is in the same zone as this page.\n\nThat means you'll have to serve this page over \nhttp, even for development.  Sorry!");var r=m.localStorage,i=m.JSON.stringify,o=m.JSON.parse;m=m["10kse"]={};for(var k="able|about|across|after|all|almost|also|among|and|any|are|because|been|but|can|cannot|could|dear|did|does|either|else|ever|every|for|from|get|got|had|has|have|her|hers|him|his|how|however|into|its|just|least|let|like|likely|may|might|most|must|neither|nor|not|off|often|only|other|our|own|rather|said|say|says|she|should|since|some|than|that|the|their|them|then|there|these|they|this|tis|too|twas|wants|was|were|what|when|where|which|while|who|whom|why|will|with|would|yet|you|your".split("|"),
j={},g=0,c=k.length;g<c;g++)j[k[g]]=true;m.asc=function(b,h){return b-h};m.get=function(b){return(b=r.getItem("10kse-"+b))?o(b):b};m.set=function(b,h){return r.setItem("10kse-"+b,i(h))};m.stop=j})(window);
(function(m,r){function i(c){var b=r(".pane."+c+", .nav ."+c);if(!b.length)throw"no such tab named '"+c+"'";g&&g.removeClass(j);g=b.addClass(j);k("TAB",c)}var o=m.get,k=m.set,j="selected",g;i(o("TAB")||"welcome");r(".nav li").click(function(){r(this).hasClass("active")||i(this.className)});r("a.nav").click(function(c){c.preventDefault();c=this.href;c=c.substr(c.lastIndexOf("#")+1);i(c)});m.showtab=i})(window["10kse"],jQuery);
(function(m,r){var i=m.get,o=m.set,k=r(".prefs.pane"),j=k.find("input").eq(0),g=k.find(".saved"),c=k.find(".csscode"),b=k.find(".jscode"),h=i("S")||"",d=i("CSS")||null;i=i("JS")||null;if(!h){h=k.find(".def").attr("href");o("S",h)}j.val(h);if(d===null){d="/* your custom css here */";o("CSS",d)}c.val(d);if(i===null){i="/* your custom js here */";o("JS",i)}b.val(i);k.find("li a").click(function(a){a.preventDefault();j.val(this.href)});k.find("form").submit(function(a){a.preventDefault();o("S",j.val());
o("CSS",c.val());o("JS",b.val());g.css({visibility:"",opacity:1});setTimeout(function(){g.animate({opacity:0},"slow",function(){g.css({visibility:"hidden"})})},1E3)});r('<style type="text/css">'+d+"</style>").appendTo("head");r(new Function(i))})(window["10kse"],jQuery);
(function(m){function r(k){for(var j=this.data,g,c,b=0,h=k.length;b<h;b++){c=k.charAt(b);(g=j[c])||(g=j[c]={});j=g}j.$=1}function i(k){for(var j=this.data,g,c=0,b=k.length;c<b;c++){g=k.charAt(c);j=j[g];if(!j)return null;j=j}return j}function o(k){var j=this.find(k);if(!j)return[];for(var g=[[k,j]],c=[],b=0,h;g.length;){j=g.shift();k=j[0];j=j[1];if(j.$)c[b++]=k;for(h in j)if(h!=="$")g[g.length]=[k+h,j[h]]}c.sort();return c}m.trie=function(k){return{add:r,data:k,find:i,match:o}}})(window["10kse"]);
(function(m){m.levenshtein=function(r,i){r=r.toLowerCase();var o=r.length,k=r.split(""),j={},g=[[this.data,"",i,0]],c,b,h,d,a;for(b=0;b<=i;b++)j[b]={};for(;g.length;){c=g.shift();b=c[0];h=c[1];dist=c[2];c=c[3];if(c===o){if(b.$)j[dist][h]=1;if(dist>0)for(a in b)g[g.length]=[b[a],h+a,dist-1,c]}else{d=k[c];if(dist>0){g[g.length]=[b,h,dist-1,c+1];for(a in b){if(a!==d)g[g.length]=[b[a],h+a,dist-1,c+1];g[g.length]=[b[a],h+a,dist-1,c]}}if(b[d])g[g.length]=[b[d],h+d,dist,c+1]}}h=[];c={};d=[].push;for(b=i;b>=
0;b--){o=j[b];k=[];g=0;for(a in o)if(!c[a]){k[g++]=a;c[a]=1}k.sort();d.apply(h,k)}return h}})(window["10kse"]);
(function(m){m.scanner=function(r,i,o){function k(v,z){var A;if(v.currentStyle)A=v.currentStyle[z];else if(r.getComputedStyle)A=b.getComputedStyle(v,null).getPropertyValue(z);return A}function j(v){return k(v,"display")!=="none"&&k(v,"visiblity")!=="hidden"}function g(v){return v.textContent!==o?v.textContent:v.innerText}function c(v){var z=v.parentNode,A=z.parentNode,B=g(v).replace(f," "),C=B.length;v=1;if(C>25){if(z[a]===o){z[a]=0;h[d++]=z}if(A[a]===o){A[a]=0;h[d++]=z}v+=B.split(",").length;B=C*
0.01<<0;v+=B<4?B:3;z[a]+=v;A[a]+=v*0.5}}var b=i.defaultView,h=[],d=0,a="10score",f=/\s+/g,e,l,q,n,p=i.getElementsByTagName("p");e=0;for(l=p.length;e<l;e++)c(p[e]);p=i.getElementsByTagName("div");var t;q=/<(a|blockquote|dl|div|img|ol|p|pre|table|ul|br)/i;e=0;for(l=p.length;e<l;e++){t=p[e];q.test(t.innerHTML)&&c(t)}var w=null,s;for(e=0;e<d;e++){l=h[e];p=l.getElementsByTagName("a");q=s=0;for(n=p.length;q<n;q++){t=p[q];s+=g(t).length}l[a]=score=l[a]*(1-s/g(l).length);if(!w||score>w[a])w=l}w=w||i.body;
p=(i.getSelection&&i.getSelection())+"";s="h1,h2,h3,h4,h5,h6,pre,code".split(",");t=[];var y,u;e=0;for(l=s.length;e<l;e++){y=i.getElementsByTagName(s[e]);q=0;for(n=y.length;q<n;q++){u=y[q];j(u)&&t.push(u.textContent)}}q=[];w=[w];var x;n=/[a-z][a-z][a-z]/i;for(s=/button|link|noscript|script|style/i;l=w.shift();){y=l.childNodes;e=0;for(l=y.length;e<l;e++){u=y[e];x=u.nodeType;if(x===1&&!s.test(u.tagName)&&j(u))w[w.length]=u;else if(x===3){text=u.nodeValue;if(n.test(text))q[q.length]=text}}}w=i.getElementsByTagName("link");
e=i.location;n=e.protocol+"//"+e.host+"/favicon.ico";e=0;for(l=w.length;e<l;e++){s=w[e];if(/icon/.test(s.rel)&&s.href){n=s.href;break}}r["10kse"].iframe.contentWindow.postMessage(JSON.stringify({icon:n,url:i.location.href,selection:p,title:i.title,priority:t.join(" "),content:q.join(" ")}),"*")}})(window["10kse"]);
(function(m){function r(b){var h,d,a,f=0,e,l={};d=b.split(j);b=0;for(h=d.length;b<h;b++){f++;a=d[b];e=a.toLowerCase();if(a.length>2&&!g[e]){(a=l[e])||(a=l[e]=[]);a[a.length]=f}}return l}function i(b,h,d,a){if((d=d||"")&&/[a-z]/i.test(d)){d=r(d);var f,e,l;for(f in d){e=o("W-"+f)||{};(l=e[b])||(l=e[b]={});l[h]=d[f];k("W-"+f,e);a[f]=1}}}var o=m.get,k=m.set,j=/[^0-9a-z_]+/i,g=m.stop,c=m.trie;m.extract=r;m.indexer=function(b){var h,d=o("URL-"+b.url);if(d){h=d.id;if(b.content!==d.text||b.title!==d.title)k("URL-"+
b.url,{id:h,text:b.content,title:b.title,icon:b.icon})}else{h=o("COUNT")||0;k("ID-"+h,b.url);k("COUNT",h+1);k("URL-"+b.url,{id:h,text:b.content,title:b.title,icon:b.icon})}d={};i(h,"s",b.selection,d);i(h,"t",b.title,d);i(h,"p",b.priority,d);i(h,"c",b.content,d);b=o("ALL")||{};h=c(b);var a;for(a in d)h.add(a);k("ALL",b)}})(window["10kse"],window);
(function(m,r,i,o){var k=o.get,j=o.set,g=r.location.href;k=k("K");if(!k){k=Math.random();j("K",k)}g=JSON.stringify(g.replace(/#.*|$/,"#"+k));j="javascript:("+(function(c,b,h){function d(l){if(h.substr(0,l.origin.length)===l.origin){a.scanner=new Function(l.data);a.scanner()}}var a=c["10kse"];a||(a=c["10kse"]={});if(a.scanner)return a.scanner();c.addEventListener?c.addEventListener("message",d,false):c.attachEvent("onmessage",d);var f=a.iframe=b.createElement("iframe");c=f.style;f.setAttribute("src",
h);c.width=c.height="1px";c.top=c.left="-2px";c.border="none";c.position="absolute";var e=false;f.onload=f.onreadystatechange=function(){if(!e&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){e=true;f.onload=f.onreadystatechange=null;f.contentWindow.postMessage("script",h)}};b.body.appendChild(f)}+"").replace(/\/\*[\s\S]*?\*\//g,"").replace(/\s+/g," ")+")(window,document,"+g+")";i("#add").attr("href",j).click(function(c){c.preventDefault();alert("1. Drag this link to your bookmarks,\n2. Navigate to another page,\n3. Click the bookmarklet to add that page to your search engine.")});
if(m.window!==m.top)r.location.hash==="#"+k?i(m).bind("message",function(c){c=c.originalEvent||c;c.data==="script"?c.source.postMessage("("+o.scanner+")(window,document)","*"):o.indexer(JSON.parse(c.data))}):alert("Either your bookmarklet is out of date, or a malicious site \nis trying to add itself to your search index. \n\nIn any case, you should update your 'add' bookmarklet. Thanks!")})(window,document,jQuery,window["10kse"]);
(function(m,r,i){if(i.window===i.top){m=m.get;i=m("COUNT")||0;var o,k;if(i>0)for(var j=r("<ul></ul>").appendTo(r(".allpages").find("div").html("<p>Page count: "+i+"</p>"));i>0;){i--;o=m("ID-"+i);k=m("URL-"+o);r("<li><a></a></li>").find("a").attr("href",o).attr("title",k.title).text(k.title).end().appendTo(j)}}})(window["10kse"],jQuery,window);
(function(m,r){var i=m.get,o=m.stop,k=Math.log;m.normalize=function(j,g,c){if(g===r)g=1;if(c===r)c=0.5;var b={},h,d,a,f;for(h in j){f=b[h]=j[h]*g;if(d===r||f>d)d=f;if(a===r||f<a)a=f}if(d===a){for(h in b)b[h]=c;return b}for(h in b)b[h]=(b[h]-a)*(1/(d-a));return b};m.topdistance=function(j,g,c,b){b||(b={});var h={},d,a,f,e;for(f in j){e=null;for(var l=0,q=g.length;l<q;l++){d=g[l];if(d.length>2&&!o[d]){a=b[d];if(a===r)a=b[d]=i("W-"+d);if(a)if(d=a[f])if(d=d[c])if(e===null||d[0]<e)e=d[0]}}if(e!==null)h[f]=
e}return h};m.bm25=function(j,g,c,b){b||(b={});var h={},d,a,f,e={},l=i("COUNT"),q=1/k(1+l),n,p,t,w=1/(2*g.length),s,y;for(f in j){s=0;for(y=g.length;s<y;s++){d=g[s];if(d.length>2&&!o[d]){a=b[d];if(a===r)a=b[d]=i("W-"+d);if(a)if(a=a[f])if(a=a[c])e[d]=(e[d]||0)+1}}}for(f in j){s=n=0;for(y=g.length;s<y;s++){if(e[d]){t=k((l-e[d]+1)/e[d])*q;d=g[s];if(d.length>2&&!o[d]){p=0;if(a=b[d])if(a=a[f])if(a=a[c])p=a.length;if(p)n+=p*t/(p+1.2)}}h[f]=0.5+n*w}}return h};m.proximity=function(j,g,c,b){var h={},d,a,f,
e,l,q,n,p,t,w,s;for(d in j){l=[];q=[];n={};p=0;for(t=g.length;p<t;p++){a=g[p];f=b[a];if(f===r)f=b[a]=i("W-"+a);if(f)if(f=f[d])if(f=f[c]){w=0;for(s=f.length;w<s;w++){e=f[w];l[q++]=e;n[e]=a}}}p=l=0;for(t=g.length;p<t;p++){a=g[p];f=b[a];if(f===r)f=b[a]=i("W-"+a);if(f)if(f=f[d])if(f=f[c]){w=0;for(s=f.length;w<s;w++){e=f[w];for(a=1;p+a<t&&n[e+a]===g[p+a];)a++;if(a>l)l=a}}if(p+l>=t)break}if(l)h[d]=l}return h}})(window["10kse"]);
(function(m,r,i){var o=r("<div></div>");m.highlight=function(k,j,g){if(g===i)g=true;k=o.text(k).html();var c=k.toLowerCase(),b={},h={},d=[],a,f,e,l,q,n;a=0;for(f=j.length;a<f;a++){e=j[a].toLowerCase();l=e.length;if(l>2&&!b[e]){b[e]=true;for(n=q=0;q<3;){n=c.indexOf(e,n);if(n===-1)break;var p=k.charAt(n-1).toLowerCase(),t=k.charAt(n+l).toLowerCase();if((p<"a"||p>"z")&&(t<"a"||t>"z")){q++;d[d.length]=n;h[n]=e}n+=l}}}d.sort(m.asc);j=[];c=0;l=d.length;for(a=n=0;c<200&&a<=l;){b=d[a];e=a<l?k.substr(n,b-
n):k.substr(n);f=e.length;if(g)if(a===l){if(f>50)e=e.substr(0,46)+" ..."}else if(a===0){if(f>50)e="... "+e.substr(f-50-4)}else if(f>100)e=e.substr(0,47)+" ... "+e.substr(f-50-3);j[j.length]=e;c+=e.length;if(a<l){e=h[b];j[j.length]="<b>"+k.substr(b,e.length)+"</b>";c+=e.length;n=b+e.length}a++}if(c>=200&&a<=l)j[j.length]=" ...";return j.join("")}})(window["10kse"],jQuery);
(function(m){var r=m.get,i=m.trie,o=m.levenshtein,k,j;m.suggest=function(g){g=g.replace(/^\s+|\s$/g,"").toLowerCase();var c=r("COUNT")||0;if(!g||!c)return[];if(c!==void 0){k=r("ALL");j=i(k)}c=j.match(g);if(!c.length&&o)c=o.call(j,g,2);return c.slice(0,10)}})(window["10kse"]);
(function(m,r,i){function o(f){function e(){if(s){var u=s.text(),x=n.val(),v=x.lastIndexOf(" ")+1;n.val(w=x.substr(0,v)+u);s.removeClass(d);y=s=null;r.search()}q()}function l(){if(t.find("li").length){var u=n.offset();p.css({top:u.top+f.offsetHeight,left:u.left,width:f.offsetWidth});p.show()}}function q(){p.hide()}var n=i(f),p=i('<div class="auto"><ul></ul></div>').css({display:"none"}).appendTo(document.body),t=p.find("ul"),w="",s=null,y;n.bind("change keyup",function(u){var x=n.val();u=u.which;
if(u===b||u===g)e();else if(u===k&&s&&y){n.val(n.val().replace(/\s+$/,""));e();n.val(n.val()+" ")}else if(u===h)q();else if(u===j||u===c){y=true;if(s)if(u===j){x=s.prev();if(x.length){s.removeClass(d);s=x.addClass(d)}}else{x=s.next();if(x.length){s.removeClass(d);s=x.addClass(d)}}else s=t.find("li").eq(0).addClass(d);l()}else if(x!==w){w=x;u=x.lastIndexOf(" ");x=x.substr(u<0?0:u).toLowerCase();if(x.length)if((u=a(x))&&u.length){t.empty();s=null;for(var v=0,z=u.length;v<z;v++)i("<li><span></span></li>").appendTo(t).find("span").html(u[v].split(x,
2).join("<b>"+x+"</b>"));l()}else q();else q()}}).parent("form").submit(e);t.mouseover(function(u){u=i(u.target);u=u.is("li")?u:u.parent("li");if(u=u.length?u:null){y=null;s&&s.get(0)!==u.get(0)&&s.removeClass(d);s=u.addClass(d)}}).click(e);i("body").click(q)}var k=32,j=38,g=39,c=40,b=13,h=27,d="selected",a=r.suggest;i(".search input").eq(0).each(function(){o(this)});r.autocomplete=o})(window,window["10kse"],jQuery);
(function(m,r,i,o){function k(){this.width=this.height=16}function j(){var a=(b.val()||"").replace(/^\s+|\s+$/g,""),f=a.toLowerCase().split(/[^a-z0-9_]/),e,l,q={},n,p={},t=false;if(!(!a||a===h)){h=a;e=0;for(l=f.length;e<l;e++){a=f[e];if(!p[a])if(a=p[a]=g("W-"+a)){for(n in a)q[n]=(q[n]||0)+1;t=true}}if(t){t=i.normalize;a=i.topdistance;var w=i.bm25,s=i.proximity;q=[[1,t(a(q,f,"s",p),-1)],[1,t(a(q,f,"t",p),-1)],[1,t(a(q,f,"p",p),-1)],[1,t(a(q,f,"c",p),-1)],[2.5,t(w(q,f,"s",p))],[2,t(w(q,f,"t",p))],[1.5,
t(w(q,f,"p",p))],[1,t(w(q,f,"c",p))],[5,t(s(q,f,"s",p))],[4,t(s(q,f,"t",p))],[3.5,t(s(q,f,"p",p))],[3,t(s(q,f,"c",p))]];var y={};e=0;for(l=q.length;e<l;e++){t=q[e];p=t[0];t=t[1];for(n in t){y[n]||(y[n]=0);y[n]+=p*t[n]}}var u=[];q=0;var x={},v,z;for(n in y){v=y[n];z=x[v]||(x[v]=[]);z[z.length]=n;u[q++]=v}u.sort(i.asc);u.reverse();var A=i.highlight,B=null;c.slideUp(d,function(){c.empty();e=0;for(l=u.length;e<l;e++){v=u[e];if(v!==B){B=v;z=x[v];for(var C=0,F=z.length;C<F;C++){n=z[C];var D=g("ID-"+n),
E=g("URL-"+D),G=E.text;c.append(o('<dt><img width="0" height="0" /> <a></a></dt>').find("a").attr("href",D).attr("title",E.title).html(A(E.title,f,false)).end().find("img").attr("src",E.icon||D.substr(0,D.indexOf("/",9))+"/favicon.ico").load(k).end(),o("<dd><p></p></dd>").find("p").html(A(G,f)).end().append("<p><strong>Score: "+(y[n]+"").substr(0,4)+"</strong></p>"))}}}c.slideDown(d)})}else c.slideUp(d,function(){c.html("<dt>Sorry, no pages were found to match your query. :/</dt><dd><p>You should probably try searching for something else.</p></dd>");
c.slideDown(d)})}}var g=i.get,c=o(".results dl"),b=o(".search input").eq(0),h,d="fast";o("form").submit(function(a){a.preventDefault();setTimeout(j,150)});o(".search").find("input[name=web]").click(function(){m.location.assign((g("S")||"").replace("%s",encodeURIComponent(b.val()||"")))});o(function(){b.focus()});i.search=j})(window,document,window["10kse"],jQuery);
</script>
</body>
</html>

